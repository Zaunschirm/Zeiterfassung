function fd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Jp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var pd={exports:{}},Qs={},gd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),eg=Symbol.for("react.provider"),tg=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),ig=Symbol.for("react.memo"),sg=Symbol.for("react.lazy"),_u=Symbol.iterator;function og(t){return t===null||typeof t!="object"?null:(t=_u&&t[_u]||t["@@iterator"],typeof t=="function"?t:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vd=Object.assign,yd={};function Sn(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||md}Sn.prototype.isReactComponent={};Sn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wd(){}wd.prototype=Sn.prototype;function cl(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||md}var dl=cl.prototype=new wd;dl.constructor=cl;vd(dl,Sn.prototype);dl.isPureReactComponent=!0;var Su=Array.isArray,_d=Object.prototype.hasOwnProperty,hl={current:null},Sd={key:!0,ref:!0,__self:!0,__source:!0};function kd(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)_d.call(e,n)&&!Sd.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:bi,type:t,key:s,ref:o,props:i,_owner:hl.current}}function ag(t,e){return{$$typeof:bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===bi}function lg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ku=/\/+/g;function vo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lg(""+t.key):e.toString(36)}function as(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bi:case Qp:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+vo(o,0):n,Su(i)?(r="",t!=null&&(r=t.replace(ku,"$&/")+"/"),as(i,e,r,"",function(u){return u})):i!=null&&(fl(i)&&(i=ag(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ku,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Su(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+vo(s,a);o+=as(s,e,r,l,i)}else if(l=og(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+vo(s,a++),o+=as(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ni(t,e,r){if(t==null)return t;var n=[],i=0;return as(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ug(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},ls={transition:null},cg={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ls,ReactCurrentOwner:hl};function Ed(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ni,forEach:function(t,e,r){Ni(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ni(t,function(){e++}),e},toArray:function(t){return Ni(t,function(e){return e})||[]},only:function(t){if(!fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Sn;B.Fragment=Yp;B.Profiler=Zp;B.PureComponent=cl;B.StrictMode=Xp;B.Suspense=ng;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cg;B.act=Ed;B.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=vd({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_d.call(e,l)&&!Sd.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:bi,type:t.type,key:i,ref:s,props:n,_owner:o}};B.createContext=function(t){return t={$$typeof:tg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eg,_context:t},t.Consumer=t};B.createElement=kd;B.createFactory=function(t){var e=kd.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:rg,render:t}};B.isValidElement=fl;B.lazy=function(t){return{$$typeof:sg,_payload:{_status:-1,_result:t},_init:ug}};B.memo=function(t,e){return{$$typeof:ig,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=ls.transition;ls.transition={};try{t()}finally{ls.transition=e}};B.unstable_act=Ed;B.useCallback=function(t,e){return Ie.current.useCallback(t,e)};B.useContext=function(t){return Ie.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ie.current.useEffect(t,e)};B.useId=function(){return Ie.current.useId()};B.useImperativeHandle=function(t,e,r){return Ie.current.useImperativeHandle(t,e,r)};B.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ie.current.useMemo(t,e)};B.useReducer=function(t,e,r){return Ie.current.useReducer(t,e,r)};B.useRef=function(t){return Ie.current.useRef(t)};B.useState=function(t){return Ie.current.useState(t)};B.useSyncExternalStore=function(t,e,r){return Ie.current.useSyncExternalStore(t,e,r)};B.useTransition=function(){return Ie.current.useTransition()};B.version="18.3.1";gd.exports=B;var k=gd.exports;const pl=Jp(k),dg=fd({__proto__:null,default:pl},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=k,fg=Symbol.for("react.element"),pg=Symbol.for("react.fragment"),gg=Object.prototype.hasOwnProperty,mg=hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vg={key:!0,ref:!0,__self:!0,__source:!0};function bd(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)gg.call(e,n)&&!vg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fg,type:t,key:s,ref:o,props:i,_owner:mg.current}}Qs.Fragment=pg;Qs.jsx=bd;Qs.jsxs=bd;pd.exports=Qs;var v=pd.exports,ta={},xd={exports:{}},Qe={},jd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,D){var U=P.length;P.push(D);e:for(;0<U;){var K=U-1>>>1,X=P[K];if(0<i(X,D))P[K]=D,P[U]=X,U=K;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var D=P[0],U=P.pop();if(U!==D){P[0]=U;e:for(var K=0,X=P.length,jt=X>>>1;K<jt;){var Fe=2*(K+1)-1,Bt=P[Fe],Xe=Fe+1,O=P[Xe];if(0>i(Bt,U))Xe<X&&0>i(O,Bt)?(P[K]=O,P[Xe]=U,K=Xe):(P[K]=Bt,P[Fe]=U,K=Fe);else if(Xe<X&&0>i(O,U))P[K]=O,P[Xe]=U,K=Xe;else break e}}return D}function i(P,D){var U=P.sortIndex-D.sortIndex;return U!==0?U:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=P)n(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=r(u)}}function S(P){if(w=!1,p(P),!y)if(r(l)!==null)y=!0,Mt(b);else{var D=r(u);D!==null&&Be(S,D.startTime-P)}}function b(P,D){y=!1,w&&(w=!1,g(T),T=-1),m=!0;var U=f;try{for(p(D),d=r(l);d!==null&&(!(d.expirationTime>D)||P&&!H());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var X=K(d.expirationTime<=D);D=t.unstable_now(),typeof X=="function"?d.callback=X:d===r(l)&&n(l),p(D)}else n(l);d=r(l)}if(d!==null)var jt=!0;else{var Fe=r(u);Fe!==null&&Be(S,Fe.startTime-D),jt=!1}return jt}finally{d=null,f=U,m=!1}}var x=!1,C=null,T=-1,M=5,z=-1;function H(){return!(t.unstable_now()-z<M)}function Ae(){if(C!==null){var P=t.unstable_now();z=P;var D=!0;try{D=C(!0,P)}finally{D?je():(x=!1,C=null)}}else x=!1}var je;if(typeof h=="function")je=function(){h(Ae)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,zt=st.port2;st.port1.onmessage=Ae,je=function(){zt.postMessage(null)}}else je=function(){_(Ae,0)};function Mt(P){C=P,x||(x=!0,je())}function Be(P,D){T=_(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,Mt(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var U=f;f=D;try{return P()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=f;f=P;try{return D()}finally{f=U}},t.unstable_scheduleCallback=function(P,D,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,P={id:c++,callback:D,priorityLevel:P,startTime:U,expirationTime:X,sortIndex:-1},U>K?(P.sortIndex=U,e(u,P),r(l)===null&&P===r(u)&&(w?(g(T),T=-1):w=!0,Be(S,U-K))):(P.sortIndex=X,e(l,P),y||m||(y=!0,Mt(b))),P},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(P){var D=f;return function(){var U=f;f=D;try{return P.apply(this,arguments)}finally{f=U}}}})(Cd);jd.exports=Cd;var yg=jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=k,Ge=yg;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Od=new Set,ti={};function $r(t,e){fn(t,e),fn(t+"Capture",e)}function fn(t,e){for(ti[t]=e,t=0;t<e.length;t++)Od.add(e[t])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,_g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eu={},bu={};function Sg(t){return ra.call(bu,t)?!0:ra.call(Eu,t)?!1:_g.test(t)?bu[t]=!0:(Eu[t]=!0,!1)}function kg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Eg(t,e,r,n){if(e===null||typeof e>"u"||kg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function ml(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gl,ml);we[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gl,ml);we[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gl,ml);we[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function vl(t,e,r,n){var i=we.hasOwnProperty(e)?we[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Eg(e,r,i,n)&&(r=null),n||i===null?Sg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ut=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),yl=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),_l=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),xu=Symbol.iterator;function Tn(t){return t===null||typeof t!="object"?null:(t=xu&&t[xu]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,yo;function Dn(t){if(yo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);yo=e&&e[1]||""}return`
`+yo+t}var wo=!1;function _o(t,e){if(!t||wo)return"";wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Dn(t):""}function bg(t){switch(t.tag){case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return t=_o(t.type,!1),t;case 11:return t=_o(t.type.render,!1),t;case 1:return t=_o(t.type,!0),t;default:return""}}function oa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Kr:return"Portal";case na:return"Profiler";case yl:return"StrictMode";case ia:return"Suspense";case sa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pd:return(t.displayName||"Context")+".Consumer";case Td:return(t._context.displayName||"Context")+".Provider";case wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _l:return e=t.displayName||null,e!==null?e:oa(t.type)||"Memo";case Vt:e=t._payload,t=t._init;try{return oa(t(e))}catch{}}return null}function xg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(e);case 8:return e===yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Id(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jg(t){var e=Id(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $i(t){t._valueTracker||(t._valueTracker=jg(t))}function Nd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Id(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aa(t,e){var r=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ju(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ar(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ad(t,e){e=e.checked,e!=null&&vl(t,"checked",e,!1)}function la(t,e){Ad(t,e);var r=ar(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ua(t,e.type,r):e.hasOwnProperty("defaultValue")&&ua(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ua(t,e,r){(e!=="number"||ws(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Un=Array.isArray;function on(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ar(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ca(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ou(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(Un(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ar(r)}}function $d(t,e){var r=ar(e.value),n=ar(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ld(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ld(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Li,Dd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ri(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cg=["Webkit","ms","Moz","O"];Object.keys(Wn).forEach(function(t){Cg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wn[e]=Wn[t]})});function Ud(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wn.hasOwnProperty(t)&&Wn[t]?(""+e).trim():e+"px"}function zd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ud(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Og=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(t,e){if(e){if(Og[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function fa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function Sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ga=null,an=null,ln=null;function Pu(t){if(t=Ci(t)){if(typeof ga!="function")throw Error(j(280));var e=t.stateNode;e&&(e=to(e),ga(t.stateNode,t.type,e))}}function Md(t){an?ln?ln.push(t):ln=[t]:an=t}function Bd(){if(an){var t=an,e=ln;if(ln=an=null,Pu(t),e)for(t=0;t<e.length;t++)Pu(e[t])}}function Fd(t,e){return t(e)}function Wd(){}var So=!1;function Vd(t,e,r){if(So)return t(e,r);So=!0;try{return Fd(t,e,r)}finally{So=!1,(an!==null||ln!==null)&&(Wd(),Bd())}}function ni(t,e){var r=t.stateNode;if(r===null)return null;var n=to(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var ma=!1;if(At)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{ma=!1}function Tg(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Vn=!1,_s=null,Ss=!1,va=null,Pg={onError:function(t){Vn=!0,_s=t}};function Rg(t,e,r,n,i,s,o,a,l){Vn=!1,_s=null,Tg.apply(Pg,arguments)}function Ig(t,e,r,n,i,s,o,a,l){if(Rg.apply(this,arguments),Vn){if(Vn){var u=_s;Vn=!1,_s=null}else throw Error(j(198));Ss||(Ss=!0,va=u)}}function Lr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ru(t){if(Lr(t)!==t)throw Error(j(188))}function Ng(t){var e=t.alternate;if(!e){if(e=Lr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Ru(i),t;if(s===n)return Ru(i),e;s=s.sibling}throw Error(j(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function qd(t){return t=Ng(t),t!==null?Kd(t):null}function Kd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kd(t);if(e!==null)return e;t=t.sibling}return null}var Jd=Ge.unstable_scheduleCallback,Iu=Ge.unstable_cancelCallback,Ag=Ge.unstable_shouldYield,$g=Ge.unstable_requestPaint,ae=Ge.unstable_now,Lg=Ge.unstable_getCurrentPriorityLevel,kl=Ge.unstable_ImmediatePriority,Gd=Ge.unstable_UserBlockingPriority,ks=Ge.unstable_NormalPriority,Dg=Ge.unstable_LowPriority,Qd=Ge.unstable_IdlePriority,Ys=null,Et=null;function Ug(t){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ys,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Bg,zg=Math.log,Mg=Math.LN2;function Bg(t){return t>>>=0,t===0?32:31-(zg(t)/Mg|0)|0}var Di=64,Ui=4194304;function zn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Es(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=zn(a):(s&=o,s!==0&&(n=zn(s)))}else o=r&~i,o!==0?n=zn(o):s!==0&&(n=zn(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-gt(e),i=1<<r,n|=t[r],e&=~i;return n}function Fg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gt(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=Fg(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ya(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yd(){var t=Di;return Di<<=1,!(Di&4194240)&&(Di=64),t}function ko(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gt(e),t[e]=r}function Vg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-gt(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function El(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-gt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var q=0;function Xd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zd,bl,eh,th,rh,wa=!1,zi=[],Xt=null,Zt=null,er=null,ii=new Map,si=new Map,qt=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(t,e){switch(t){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ii.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(e.pointerId)}}function Rn(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ci(e),e!==null&&bl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qg(t,e,r,n,i){switch(e){case"focusin":return Xt=Rn(Xt,t,e,r,n,i),!0;case"dragenter":return Zt=Rn(Zt,t,e,r,n,i),!0;case"mouseover":return er=Rn(er,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ii.set(s,Rn(ii.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,si.set(s,Rn(si.get(s)||null,t,e,r,n,i)),!0}return!1}function nh(t){var e=br(t.target);if(e!==null){var r=Lr(e);if(r!==null){if(e=r.tag,e===13){if(e=Hd(r),e!==null){t.blockedOn=e,rh(t.priority,function(){eh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_a(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pa=n,r.target.dispatchEvent(n),pa=null}else return e=Ci(r),e!==null&&bl(e),t.blockedOn=r,!1;e.shift()}return!0}function Au(t,e,r){us(t)&&r.delete(e)}function Kg(){wa=!1,Xt!==null&&us(Xt)&&(Xt=null),Zt!==null&&us(Zt)&&(Zt=null),er!==null&&us(er)&&(er=null),ii.forEach(Au),si.forEach(Au)}function In(t,e){t.blockedOn===e&&(t.blockedOn=null,wa||(wa=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Kg)))}function oi(t){function e(i){return In(i,t)}if(0<zi.length){In(zi[0],t);for(var r=1;r<zi.length;r++){var n=zi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Xt!==null&&In(Xt,t),Zt!==null&&In(Zt,t),er!==null&&In(er,t),ii.forEach(e),si.forEach(e),r=0;r<qt.length;r++)n=qt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qt.length&&(r=qt[0],r.blockedOn===null);)nh(r),r.blockedOn===null&&qt.shift()}var un=Ut.ReactCurrentBatchConfig,bs=!0;function Jg(t,e,r,n){var i=q,s=un.transition;un.transition=null;try{q=1,xl(t,e,r,n)}finally{q=i,un.transition=s}}function Gg(t,e,r,n){var i=q,s=un.transition;un.transition=null;try{q=4,xl(t,e,r,n)}finally{q=i,un.transition=s}}function xl(t,e,r,n){if(bs){var i=_a(t,e,r,n);if(i===null)Io(t,e,n,xs,r),Nu(t,n);else if(qg(i,t,e,r,n))n.stopPropagation();else if(Nu(t,n),e&4&&-1<Hg.indexOf(t)){for(;i!==null;){var s=Ci(i);if(s!==null&&Zd(s),s=_a(t,e,r,n),s===null&&Io(t,e,n,xs,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Io(t,e,n,null,r)}}var xs=null;function _a(t,e,r,n){if(xs=null,t=Sl(n),t=br(t),t!==null)if(e=Lr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xs=t,null}function ih(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lg()){case kl:return 1;case Gd:return 4;case ks:case Dg:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var Gt=null,jl=null,cs=null;function sh(){if(cs)return cs;var t,e=jl,r=e.length,n,i="value"in Gt?Gt.value:Gt.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return cs=i.slice(t,1<n?1-n:void 0)}function ds(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function $u(){return!1}function Ye(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mi:$u,this.isPropagationStopped=$u,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),e}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Ye(kn),ji=se({},kn,{view:0,detail:0}),Qg=Ye(ji),Eo,bo,Nn,Xs=se({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nn&&(Nn&&t.type==="mousemove"?(Eo=t.screenX-Nn.screenX,bo=t.screenY-Nn.screenY):bo=Eo=0,Nn=t),Eo)},movementY:function(t){return"movementY"in t?t.movementY:bo}}),Lu=Ye(Xs),Yg=se({},Xs,{dataTransfer:0}),Xg=Ye(Yg),Zg=se({},ji,{relatedTarget:0}),xo=Ye(Zg),em=se({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=Ye(em),rm=se({},kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nm=Ye(rm),im=se({},kn,{data:0}),Du=Ye(im),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=am[t])?!!e[t]:!1}function Ol(){return lm}var um=se({},ji,{key:function(t){if(t.key){var e=sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?om[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cm=Ye(um),dm=se({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=Ye(dm),hm=se({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),fm=Ye(hm),pm=se({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=Ye(pm),mm=se({},Xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Ye(mm),ym=[9,13,27,32],Tl=At&&"CompositionEvent"in window,Hn=null;At&&"documentMode"in document&&(Hn=document.documentMode);var wm=At&&"TextEvent"in window&&!Hn,oh=At&&(!Tl||Hn&&8<Hn&&11>=Hn),zu=" ",Mu=!1;function ah(t,e){switch(t){case"keyup":return ym.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function _m(t,e){switch(t){case"compositionend":return lh(e);case"keypress":return e.which!==32?null:(Mu=!0,zu);case"textInput":return t=e.data,t===zu&&Mu?null:t;default:return null}}function Sm(t,e){if(Gr)return t==="compositionend"||!Tl&&ah(t,e)?(t=sh(),cs=jl=Gt=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oh&&e.locale!=="ko"?null:e.data;default:return null}}var km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!km[t.type]:e==="textarea"}function uh(t,e,r,n){Md(n),e=js(e,"onChange"),0<e.length&&(r=new Cl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qn=null,ai=null;function Em(t){_h(t,0)}function Zs(t){var e=Xr(t);if(Nd(e))return t}function bm(t,e){if(t==="change")return e}var ch=!1;if(At){var jo;if(At){var Co="oninput"in document;if(!Co){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),Co=typeof Fu.oninput=="function"}jo=Co}else jo=!1;ch=jo&&(!document.documentMode||9<document.documentMode)}function Wu(){qn&&(qn.detachEvent("onpropertychange",dh),ai=qn=null)}function dh(t){if(t.propertyName==="value"&&Zs(ai)){var e=[];uh(e,ai,t,Sl(t)),Vd(Em,e)}}function xm(t,e,r){t==="focusin"?(Wu(),qn=e,ai=r,qn.attachEvent("onpropertychange",dh)):t==="focusout"&&Wu()}function jm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zs(ai)}function Cm(t,e){if(t==="click")return Zs(e)}function Om(t,e){if(t==="input"||t==="change")return Zs(e)}function Tm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vt=typeof Object.is=="function"?Object.is:Tm;function li(t,e){if(vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ra.call(e,i)||!vt(t[i],e[i]))return!1}return!0}function Vu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hu(t,e){var r=Vu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vu(r)}}function hh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fh(){for(var t=window,e=ws();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ws(t.document)}return e}function Pl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pm(t){var e=fh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hh(r.ownerDocument.documentElement,r)){if(n!==null&&Pl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Hu(r,s);var o=Hu(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rm=At&&"documentMode"in document&&11>=document.documentMode,Qr=null,Sa=null,Kn=null,ka=!1;function qu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ka||Qr==null||Qr!==ws(n)||(n=Qr,"selectionStart"in n&&Pl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kn&&li(Kn,n)||(Kn=n,n=js(Sa,"onSelect"),0<n.length&&(e=new Cl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qr)))}function Bi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yr={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},Oo={},ph={};At&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function eo(t){if(Oo[t])return Oo[t];if(!Yr[t])return t;var e=Yr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ph)return Oo[t]=e[r];return t}var gh=eo("animationend"),mh=eo("animationiteration"),vh=eo("animationstart"),yh=eo("transitionend"),wh=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){wh.set(t,e),$r(e,[t])}for(var To=0;To<Ku.length;To++){var Po=Ku[To],Im=Po.toLowerCase(),Nm=Po[0].toUpperCase()+Po.slice(1);ur(Im,"on"+Nm)}ur(gh,"onAnimationEnd");ur(mh,"onAnimationIteration");ur(vh,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(yh,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function Ju(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ig(n,e,void 0,t),t.currentTarget=null}function _h(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ju(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ju(i,a,u),s=l}}}if(Ss)throw t=va,Ss=!1,va=null,t}function Q(t,e){var r=e[Ca];r===void 0&&(r=e[Ca]=new Set);var n=t+"__bubble";r.has(n)||(Sh(e,t,2,!1),r.add(n))}function Ro(t,e,r){var n=0;e&&(n|=4),Sh(r,t,n,e)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function ui(t){if(!t[Fi]){t[Fi]=!0,Od.forEach(function(r){r!=="selectionchange"&&(Am.has(r)||Ro(r,!1,t),Ro(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fi]||(e[Fi]=!0,Ro("selectionchange",!1,e))}}function Sh(t,e,r,n){switch(ih(e)){case 1:var i=Jg;break;case 4:i=Gg;break;default:i=xl}r=i.bind(null,e,r,t),i=void 0,!ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Io(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Vd(function(){var u=s,c=Sl(r),d=[];e:{var f=wh.get(t);if(f!==void 0){var m=Cl,y=t;switch(t){case"keypress":if(ds(r)===0)break e;case"keydown":case"keyup":m=cm;break;case"focusin":y="focus",m=xo;break;case"focusout":y="blur",m=xo;break;case"beforeblur":case"afterblur":m=xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fm;break;case gh:case mh:case vh:m=tm;break;case yh:m=gm;break;case"scroll":m=Qg;break;case"wheel":m=vm;break;case"copy":case"cut":case"paste":m=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Uu}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,p;h!==null;){p=h;var S=p.stateNode;if(p.tag===5&&S!==null&&(p=S,g!==null&&(S=ni(h,g),S!=null&&w.push(ci(h,S,p)))),_)break;h=h.return}0<w.length&&(f=new m(f,y,null,r,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==pa&&(y=r.relatedTarget||r.fromElement)&&(br(y)||y[$t]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?br(y):null,y!==null&&(_=Lr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=Lu,S="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(w=Uu,S="onPointerLeave",g="onPointerEnter",h="pointer"),_=m==null?f:Xr(m),p=y==null?f:Xr(y),f=new w(S,h+"leave",m,r,c),f.target=_,f.relatedTarget=p,S=null,br(c)===u&&(w=new w(g,h+"enter",y,r,c),w.target=p,w.relatedTarget=_,S=w),_=S,m&&y)t:{for(w=m,g=y,h=0,p=w;p;p=zr(p))h++;for(p=0,S=g;S;S=zr(S))p++;for(;0<h-p;)w=zr(w),h--;for(;0<p-h;)g=zr(g),p--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=zr(w),g=zr(g)}w=null}else w=null;m!==null&&Gu(d,f,m,w,!1),y!==null&&_!==null&&Gu(d,_,y,w,!0)}}e:{if(f=u?Xr(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=bm;else if(Bu(f))if(ch)b=Om;else{b=jm;var x=xm}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Cm);if(b&&(b=b(t,u))){uh(d,b,r,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&ua(f,"number",f.value)}switch(x=u?Xr(u):window,t){case"focusin":(Bu(x)||x.contentEditable==="true")&&(Qr=x,Sa=u,Kn=null);break;case"focusout":Kn=Sa=Qr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,qu(d,r,c);break;case"selectionchange":if(Rm)break;case"keydown":case"keyup":qu(d,r,c)}var C;if(Tl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gr?ah(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(oh&&r.locale!=="ko"&&(Gr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gr&&(C=sh()):(Gt=c,jl="value"in Gt?Gt.value:Gt.textContent,Gr=!0)),x=js(u,T),0<x.length&&(T=new Du(T,t,null,r,c),d.push({event:T,listeners:x}),C?T.data=C:(C=lh(r),C!==null&&(T.data=C)))),(C=wm?_m(t,r):Sm(t,r))&&(u=js(u,"onBeforeInput"),0<u.length&&(c=new Du("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}_h(d,e)})}function ci(t,e,r){return{instance:t,listener:e,currentTarget:r}}function js(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ni(t,r),s!=null&&n.unshift(ci(t,s,i)),s=ni(t,e),s!=null&&n.push(ci(t,s,i))),t=t.return}return n}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gu(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ni(r,s),l!=null&&o.unshift(ci(r,l,a))):i||(l=ni(r,s),l!=null&&o.push(ci(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var $m=/\r\n?/g,Lm=/\u0000|\uFFFD/g;function Qu(t){return(typeof t=="string"?t:""+t).replace($m,`
`).replace(Lm,"")}function Wi(t,e,r){if(e=Qu(e),Qu(t)!==e&&r)throw Error(j(425))}function Cs(){}var Ea=null,ba=null;function xa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ja=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(t){return Yu.resolve(null).then(t).catch(zm)}:ja;function zm(t){setTimeout(function(){throw t})}function No(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),oi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);oi(e)}function tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var En=Math.random().toString(36).slice(2),kt="__reactFiber$"+En,di="__reactProps$"+En,$t="__reactContainer$"+En,Ca="__reactEvents$"+En,Mm="__reactListeners$"+En,Bm="__reactHandles$"+En;function br(t){var e=t[kt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$t]||r[kt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Xu(t);t!==null;){if(r=t[kt])return r;t=Xu(t)}return e}t=r,r=t.parentNode}return null}function Ci(t){return t=t[kt]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function to(t){return t[di]||null}var Oa=[],Zr=-1;function cr(t){return{current:t}}function Y(t){0>Zr||(t.current=Oa[Zr],Oa[Zr]=null,Zr--)}function G(t,e){Zr++,Oa[Zr]=t.current,t.current=e}var lr={},xe=cr(lr),Ue=cr(!1),Pr=lr;function pn(t,e){var r=t.type.contextTypes;if(!r)return lr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ze(t){return t=t.childContextTypes,t!=null}function Os(){Y(Ue),Y(xe)}function Zu(t,e,r){if(xe.current!==lr)throw Error(j(168));G(xe,e),G(Ue,r)}function kh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(j(108,xg(t)||"Unknown",i));return se({},r,n)}function Ts(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Pr=xe.current,G(xe,t),G(Ue,Ue.current),!0}function ec(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=kh(t,e,Pr),n.__reactInternalMemoizedMergedChildContext=t,Y(Ue),Y(xe),G(xe,t)):Y(Ue),G(Ue,r)}var Pt=null,ro=!1,Ao=!1;function Eh(t){Pt===null?Pt=[t]:Pt.push(t)}function Fm(t){ro=!0,Eh(t)}function dr(){if(!Ao&&Pt!==null){Ao=!0;var t=0,e=q;try{var r=Pt;for(q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pt=null,ro=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(t+1)),Jd(kl,dr),i}finally{q=e,Ao=!1}}return null}var en=[],tn=0,Ps=null,Rs=0,Ze=[],et=0,Rr=null,Rt=1,It="";function wr(t,e){en[tn++]=Rs,en[tn++]=Ps,Ps=t,Rs=e}function bh(t,e,r){Ze[et++]=Rt,Ze[et++]=It,Ze[et++]=Rr,Rr=t;var n=Rt;t=It;var i=32-gt(n)-1;n&=~(1<<i),r+=1;var s=32-gt(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Rt=1<<32-gt(e)+i|r<<i|n,It=s+t}else Rt=1<<s|r<<i|n,It=t}function Rl(t){t.return!==null&&(wr(t,1),bh(t,1,0))}function Il(t){for(;t===Ps;)Ps=en[--tn],en[tn]=null,Rs=en[--tn],en[tn]=null;for(;t===Rr;)Rr=Ze[--et],Ze[et]=null,It=Ze[--et],Ze[et]=null,Rt=Ze[--et],Ze[et]=null}var Je=null,Ke=null,ee=!1,pt=null;function xh(t,e){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,Ke=tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rr!==null?{id:Rt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Je=t,Ke=null,!0):!1;default:return!1}}function Ta(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pa(t){if(ee){var e=Ke;if(e){var r=e;if(!tc(t,e)){if(Ta(t))throw Error(j(418));e=tr(r.nextSibling);var n=Je;e&&tc(t,e)?xh(n,r):(t.flags=t.flags&-4097|2,ee=!1,Je=t)}}else{if(Ta(t))throw Error(j(418));t.flags=t.flags&-4097|2,ee=!1,Je=t}}}function rc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Vi(t){if(t!==Je)return!1;if(!ee)return rc(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xa(t.type,t.memoizedProps)),e&&(e=Ke)){if(Ta(t))throw jh(),Error(j(418));for(;e;)xh(t,e),e=tr(e.nextSibling)}if(rc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ke=tr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Je?tr(t.stateNode.nextSibling):null;return!0}function jh(){for(var t=Ke;t;)t=tr(t.nextSibling)}function gn(){Ke=Je=null,ee=!1}function Nl(t){pt===null?pt=[t]:pt.push(t)}var Wm=Ut.ReactCurrentBatchConfig;function An(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function Hi(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nc(t){var e=t._init;return e(t._payload)}function Ch(t){function e(g,h){if(t){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=sr(g,h),g.index=0,g.sibling=null,g}function s(g,h,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,p,S){return h===null||h.tag!==6?(h=Bo(p,g.mode,S),h.return=g,h):(h=i(h,p),h.return=g,h)}function l(g,h,p,S){var b=p.type;return b===Jr?c(g,h,p.props.children,S,p.key):h!==null&&(h.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vt&&nc(b)===h.type)?(S=i(h,p.props),S.ref=An(g,h,p),S.return=g,S):(S=ys(p.type,p.key,p.props,null,g.mode,S),S.ref=An(g,h,p),S.return=g,S)}function u(g,h,p,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Fo(p,g.mode,S),h.return=g,h):(h=i(h,p.children||[]),h.return=g,h)}function c(g,h,p,S,b){return h===null||h.tag!==7?(h=Tr(p,g.mode,S,b),h.return=g,h):(h=i(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Bo(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ai:return p=ys(h.type,h.key,h.props,null,g.mode,p),p.ref=An(g,null,h),p.return=g,p;case Kr:return h=Fo(h,g.mode,p),h.return=g,h;case Vt:var S=h._init;return d(g,S(h._payload),p)}if(Un(h)||Tn(h))return h=Tr(h,g.mode,p,null),h.return=g,h;Hi(g,h)}return null}function f(g,h,p,S){var b=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(g,h,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ai:return p.key===b?l(g,h,p,S):null;case Kr:return p.key===b?u(g,h,p,S):null;case Vt:return b=p._init,f(g,h,b(p._payload),S)}if(Un(p)||Tn(p))return b!==null?null:c(g,h,p,S,null);Hi(g,p)}return null}function m(g,h,p,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(p)||null,a(h,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ai:return g=g.get(S.key===null?p:S.key)||null,l(h,g,S,b);case Kr:return g=g.get(S.key===null?p:S.key)||null,u(h,g,S,b);case Vt:var x=S._init;return m(g,h,p,x(S._payload),b)}if(Un(S)||Tn(S))return g=g.get(p)||null,c(h,g,S,b,null);Hi(h,S)}return null}function y(g,h,p,S){for(var b=null,x=null,C=h,T=h=0,M=null;C!==null&&T<p.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var z=f(g,C,p[T],S);if(z===null){C===null&&(C=M);break}t&&C&&z.alternate===null&&e(g,C),h=s(z,h,T),x===null?b=z:x.sibling=z,x=z,C=M}if(T===p.length)return r(g,C),ee&&wr(g,T),b;if(C===null){for(;T<p.length;T++)C=d(g,p[T],S),C!==null&&(h=s(C,h,T),x===null?b=C:x.sibling=C,x=C);return ee&&wr(g,T),b}for(C=n(g,C);T<p.length;T++)M=m(C,g,T,p[T],S),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?T:M.key),h=s(M,h,T),x===null?b=M:x.sibling=M,x=M);return t&&C.forEach(function(H){return e(g,H)}),ee&&wr(g,T),b}function w(g,h,p,S){var b=Tn(p);if(typeof b!="function")throw Error(j(150));if(p=b.call(p),p==null)throw Error(j(151));for(var x=b=null,C=h,T=h=0,M=null,z=p.next();C!==null&&!z.done;T++,z=p.next()){C.index>T?(M=C,C=null):M=C.sibling;var H=f(g,C,z.value,S);if(H===null){C===null&&(C=M);break}t&&C&&H.alternate===null&&e(g,C),h=s(H,h,T),x===null?b=H:x.sibling=H,x=H,C=M}if(z.done)return r(g,C),ee&&wr(g,T),b;if(C===null){for(;!z.done;T++,z=p.next())z=d(g,z.value,S),z!==null&&(h=s(z,h,T),x===null?b=z:x.sibling=z,x=z);return ee&&wr(g,T),b}for(C=n(g,C);!z.done;T++,z=p.next())z=m(C,g,T,z.value,S),z!==null&&(t&&z.alternate!==null&&C.delete(z.key===null?T:z.key),h=s(z,h,T),x===null?b=z:x.sibling=z,x=z);return t&&C.forEach(function(Ae){return e(g,Ae)}),ee&&wr(g,T),b}function _(g,h,p,S){if(typeof p=="object"&&p!==null&&p.type===Jr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ai:e:{for(var b=p.key,x=h;x!==null;){if(x.key===b){if(b=p.type,b===Jr){if(x.tag===7){r(g,x.sibling),h=i(x,p.props.children),h.return=g,g=h;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vt&&nc(b)===x.type){r(g,x.sibling),h=i(x,p.props),h.ref=An(g,x,p),h.return=g,g=h;break e}r(g,x);break}else e(g,x);x=x.sibling}p.type===Jr?(h=Tr(p.props.children,g.mode,S,p.key),h.return=g,g=h):(S=ys(p.type,p.key,p.props,null,g.mode,S),S.ref=An(g,h,p),S.return=g,g=S)}return o(g);case Kr:e:{for(x=p.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=i(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else e(g,h);h=h.sibling}h=Fo(p,g.mode,S),h.return=g,g=h}return o(g);case Vt:return x=p._init,_(g,h,x(p._payload),S)}if(Un(p))return y(g,h,p,S);if(Tn(p))return w(g,h,p,S);Hi(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=i(h,p),h.return=g,g=h):(r(g,h),h=Bo(p,g.mode,S),h.return=g,g=h),o(g)):r(g,h)}return _}var mn=Ch(!0),Oh=Ch(!1),Is=cr(null),Ns=null,rn=null,Al=null;function $l(){Al=rn=Ns=null}function Ll(t){var e=Is.current;Y(Is),t._currentValue=e}function Ra(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function cn(t,e){Ns=t,Al=rn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(De=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(Al!==t)if(t={context:t,memoizedValue:e,next:null},rn===null){if(Ns===null)throw Error(j(308));rn=t,Ns.dependencies={lanes:0,firstContext:t}}else rn=rn.next=t;return e}var xr=null;function Dl(t){xr===null?xr=[t]:xr.push(t)}function Th(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Dl(e)):(r.next=i.next,i.next=r),e.interleaved=r,Lt(t,n)}function Lt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ht=!1;function Ul(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Lt(t,r)}return i=n.interleaved,i===null?(e.next=e,Dl(n)):(e.next=i.next,i.next=e),n.interleaved=e,Lt(t,r)}function hs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,El(t,r)}}function ic(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function As(t,e,r,n){var i=t.updateQueue;Ht=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=se({},d,f);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Nr|=o,t.lanes=o,t.memoizedState=d}}function sc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(j(191,i));i.call(n)}}}var Oi={},bt=cr(Oi),hi=cr(Oi),fi=cr(Oi);function jr(t){if(t===Oi)throw Error(j(174));return t}function zl(t,e){switch(G(fi,e),G(hi,t),G(bt,Oi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:da(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=da(e,t)}Y(bt),G(bt,e)}function vn(){Y(bt),Y(hi),Y(fi)}function Rh(t){jr(fi.current);var e=jr(bt.current),r=da(e,t.type);e!==r&&(G(hi,t),G(bt,r))}function Ml(t){hi.current===t&&(Y(bt),Y(hi))}var ne=cr(0);function $s(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $o=[];function Bl(){for(var t=0;t<$o.length;t++)$o[t]._workInProgressVersionPrimary=null;$o.length=0}var fs=Ut.ReactCurrentDispatcher,Lo=Ut.ReactCurrentBatchConfig,Ir=0,ie=null,he=null,pe=null,Ls=!1,Jn=!1,pi=0,Vm=0;function _e(){throw Error(j(321))}function Fl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vt(t[r],e[r]))return!1;return!0}function Wl(t,e,r,n,i,s){if(Ir=s,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fs.current=t===null||t.memoizedState===null?Jm:Gm,t=r(n,i),Jn){s=0;do{if(Jn=!1,pi=0,25<=s)throw Error(j(301));s+=1,pe=he=null,e.updateQueue=null,fs.current=Qm,t=r(n,i)}while(Jn)}if(fs.current=Ds,e=he!==null&&he.next!==null,Ir=0,pe=he=ie=null,Ls=!1,e)throw Error(j(300));return t}function Vl(){var t=pi!==0;return pi=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ie.memoizedState=pe=t:pe=pe.next=t,pe}function it(){if(he===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=pe===null?ie.memoizedState:pe.next;if(e!==null)pe=e,he=t;else{if(t===null)throw Error(j(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},pe===null?ie.memoizedState=pe=t:pe=pe.next=t}return pe}function gi(t,e){return typeof e=="function"?e(t):e}function Do(t){var e=it(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=he,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ir&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,ie.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,vt(n,e.memoizedState)||(De=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ie.lanes|=s,Nr|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Uo(t){var e=it(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vt(s,e.memoizedState)||(De=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Ih(){}function Nh(t,e){var r=ie,n=it(),i=e(),s=!vt(n.memoizedState,i);if(s&&(n.memoizedState=i,De=!0),n=n.queue,Hl(Lh.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,mi(9,$h.bind(null,r,n,i,e),void 0,null),ge===null)throw Error(j(349));Ir&30||Ah(r,e,i)}return i}function Ah(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function $h(t,e,r,n){e.value=r,e.getSnapshot=n,Dh(e)&&Uh(t)}function Lh(t,e,r){return r(function(){Dh(e)&&Uh(t)})}function Dh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vt(t,r)}catch{return!0}}function Uh(t){var e=Lt(t,1);e!==null&&mt(e,t,1,-1)}function oc(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e.queue=t,t=t.dispatch=Km.bind(null,ie,t),[e.memoizedState,t]}function mi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function zh(){return it().memoizedState}function ps(t,e,r,n){var i=St();ie.flags|=t,i.memoizedState=mi(1|e,r,void 0,n===void 0?null:n)}function no(t,e,r,n){var i=it();n=n===void 0?null:n;var s=void 0;if(he!==null){var o=he.memoizedState;if(s=o.destroy,n!==null&&Fl(n,o.deps)){i.memoizedState=mi(e,r,s,n);return}}ie.flags|=t,i.memoizedState=mi(1|e,r,s,n)}function ac(t,e){return ps(8390656,8,t,e)}function Hl(t,e){return no(2048,8,t,e)}function Mh(t,e){return no(4,2,t,e)}function Bh(t,e){return no(4,4,t,e)}function Fh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wh(t,e,r){return r=r!=null?r.concat([t]):null,no(4,4,Fh.bind(null,e,t),r)}function ql(){}function Vh(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hh(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function qh(t,e,r){return Ir&21?(vt(r,e)||(r=Yd(),ie.lanes|=r,Nr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,De=!0),t.memoizedState=r)}function Hm(t,e){var r=q;q=r!==0&&4>r?r:4,t(!0);var n=Lo.transition;Lo.transition={};try{t(!1),e()}finally{q=r,Lo.transition=n}}function Kh(){return it().memoizedState}function qm(t,e,r){var n=ir(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jh(t))Gh(e,r);else if(r=Th(t,e,r,n),r!==null){var i=Re();mt(r,t,n,i),Qh(r,e,n)}}function Km(t,e,r){var n=ir(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jh(t))Gh(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,vt(a,o)){var l=e.interleaved;l===null?(i.next=i,Dl(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Th(t,e,i,n),r!==null&&(i=Re(),mt(r,t,n,i),Qh(r,e,n))}}function Jh(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Gh(t,e){Jn=Ls=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Qh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,El(t,r)}}var Ds={readContext:nt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Jm={readContext:nt,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:ac,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ps(4194308,4,Fh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return ps(4,2,t,e)},useMemo:function(t,e){var r=St();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=St();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=qm.bind(null,ie,t),[n.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:oc,useDebugValue:ql,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=oc(!1),e=t[0];return t=Hm.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ie,i=St();if(ee){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),ge===null)throw Error(j(349));Ir&30||Ah(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,ac(Lh.bind(null,n,s,t),[t]),n.flags|=2048,mi(9,$h.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=St(),e=ge.identifierPrefix;if(ee){var r=It,n=Rt;r=(n&~(1<<32-gt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=pi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Vm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gm={readContext:nt,useCallback:Vh,useContext:nt,useEffect:Hl,useImperativeHandle:Wh,useInsertionEffect:Mh,useLayoutEffect:Bh,useMemo:Hh,useReducer:Do,useRef:zh,useState:function(){return Do(gi)},useDebugValue:ql,useDeferredValue:function(t){var e=it();return qh(e,he.memoizedState,t)},useTransition:function(){var t=Do(gi)[0],e=it().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Nh,useId:Kh,unstable_isNewReconciler:!1},Qm={readContext:nt,useCallback:Vh,useContext:nt,useEffect:Hl,useImperativeHandle:Wh,useInsertionEffect:Mh,useLayoutEffect:Bh,useMemo:Hh,useReducer:Uo,useRef:zh,useState:function(){return Uo(gi)},useDebugValue:ql,useDeferredValue:function(t){var e=it();return he===null?e.memoizedState=t:qh(e,he.memoizedState,t)},useTransition:function(){var t=Uo(gi)[0],e=it().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Nh,useId:Kh,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ia(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:se({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var io={isMounted:function(t){return(t=t._reactInternals)?Lr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Re(),i=ir(t),s=Nt(n,i);s.payload=e,r!=null&&(s.callback=r),e=rr(t,s,i),e!==null&&(mt(e,t,i,n),hs(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Re(),i=ir(t),s=Nt(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=rr(t,s,i),e!==null&&(mt(e,t,i,n),hs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Re(),n=ir(t),i=Nt(r,n);i.tag=2,e!=null&&(i.callback=e),e=rr(t,i,n),e!==null&&(mt(e,t,n,r),hs(e,t,n))}};function lc(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!li(r,n)||!li(i,s):!0}function Yh(t,e,r){var n=!1,i=lr,s=e.contextType;return typeof s=="object"&&s!==null?s=nt(s):(i=ze(e)?Pr:xe.current,n=e.contextTypes,s=(n=n!=null)?pn(t,i):lr),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=io,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&io.enqueueReplaceState(e,e.state,null)}function Na(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ul(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nt(s):(s=ze(e)?Pr:xe.current,i.context=pn(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ia(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&io.enqueueReplaceState(i,i.state,null),As(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yn(t,e){try{var r="",n=e;do r+=bg(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Aa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ym=typeof WeakMap=="function"?WeakMap:Map;function Xh(t,e,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){zs||(zs=!0,Va=n),Aa(t,e)},r}function Zh(t,e,r){r=Nt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Aa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Aa(t,e),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function cc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ym;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=dv.bind(null,t,e,r),e.then(t,t))}function dc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hc(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Nt(-1,1),e.tag=2,rr(r,e,1))),r.lanes|=1),t)}var Xm=Ut.ReactCurrentOwner,De=!1;function Te(t,e,r,n){e.child=t===null?Oh(e,null,r,n):mn(e,t.child,r,n)}function fc(t,e,r,n,i){r=r.render;var s=e.ref;return cn(e,i),n=Wl(t,e,r,n,s,i),r=Vl(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dt(t,e,i)):(ee&&r&&Rl(e),e.flags|=1,Te(t,e,n,i),e.child)}function pc(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!eu(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ef(t,e,s,n,i)):(t=ys(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:li,r(o,n)&&t.ref===e.ref)return Dt(t,e,i)}return e.flags|=1,t=sr(s,n),t.ref=e.ref,t.return=e,e.child=t}function ef(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(li(s,n)&&t.ref===e.ref)if(De=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(De=!0);else return e.lanes=t.lanes,Dt(t,e,i)}return $a(t,e,r,n,i)}function tf(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(sn,Ve),Ve|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(sn,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,G(sn,Ve),Ve|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,G(sn,Ve),Ve|=n;return Te(t,e,i,r),e.child}function rf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $a(t,e,r,n,i){var s=ze(r)?Pr:xe.current;return s=pn(e,s),cn(e,i),r=Wl(t,e,r,n,s,i),n=Vl(),t!==null&&!De?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dt(t,e,i)):(ee&&n&&Rl(e),e.flags|=1,Te(t,e,r,i),e.child)}function gc(t,e,r,n,i){if(ze(r)){var s=!0;Ts(e)}else s=!1;if(cn(e,i),e.stateNode===null)gs(t,e),Yh(e,r,n),Na(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=ze(r)?Pr:xe.current,u=pn(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&uc(e,o,n,u),Ht=!1;var f=e.memoizedState;o.state=f,As(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Ue.current||Ht?(typeof c=="function"&&(Ia(e,r,c,n),l=e.memoizedState),(a=Ht||lc(e,r,a,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ph(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ct(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=ze(r)?Pr:xe.current,l=pn(e,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&uc(e,o,n,l),Ht=!1,f=e.memoizedState,o.state=f,As(e,n,o,i);var y=e.memoizedState;a!==d||f!==y||Ue.current||Ht?(typeof m=="function"&&(Ia(e,r,m,n),y=e.memoizedState),(u=Ht||lc(e,r,u,n,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return La(t,e,r,n,s,i)}function La(t,e,r,n,i,s){rf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ec(e,r,!1),Dt(t,e,s);n=e.stateNode,Xm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=mn(e,t.child,null,s),e.child=mn(e,null,a,s)):Te(t,e,a,s),e.memoizedState=n.state,i&&ec(e,r,!0),e.child}function nf(t){var e=t.stateNode;e.pendingContext?Zu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zu(t,e.context,!1),zl(t,e.containerInfo)}function mc(t,e,r,n,i){return gn(),Nl(i),e.flags|=256,Te(t,e,r,n),e.child}var Da={dehydrated:null,treeContext:null,retryLane:0};function Ua(t){return{baseLanes:t,cachePool:null,transitions:null}}function sf(t,e,r){var n=e.pendingProps,i=ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),G(ne,i&1),t===null)return Pa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ao(o,n,0,null),t=Tr(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ua(r),e.memoizedState=Da,t):Kl(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Zm(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=sr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=sr(a,s):(s=Tr(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Ua(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Da,n}return s=t.child,t=s.sibling,n=sr(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Kl(t,e){return e=ao({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qi(t,e,r,n){return n!==null&&Nl(n),mn(e,t.child,null,r),t=Kl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zm(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=zo(Error(j(422))),qi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ao({mode:"visible",children:n.children},i,0,null),s=Tr(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&mn(e,t.child,null,o),e.child.memoizedState=Ua(o),e.memoizedState=Da,s);if(!(e.mode&1))return qi(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(j(419)),n=zo(s,n,void 0),qi(t,e,o,n)}if(a=(o&t.childLanes)!==0,De||a){if(n=ge,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Lt(t,i),mt(n,t,i,-1))}return Zl(),n=zo(Error(j(421))),qi(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ke=tr(i.nextSibling),Je=e,ee=!0,pt=null,t!==null&&(Ze[et++]=Rt,Ze[et++]=It,Ze[et++]=Rr,Rt=t.id,It=t.overflow,Rr=e),e=Kl(e,n.children),e.flags|=4096,e)}function vc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ra(t.return,e,r)}function Mo(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function of(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Te(t,e,n.children,r),n=ne.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vc(t,r,e);else if(t.tag===19)vc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(G(ne,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&$s(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Mo(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$s(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Mo(e,!0,r,null,s);break;case"together":Mo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=sr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ev(t,e,r){switch(e.tag){case 3:nf(e),gn();break;case 5:Rh(e);break;case 1:ze(e.type)&&Ts(e);break;case 4:zl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;G(Is,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(G(ne,ne.current&1),e.flags|=128,null):r&e.child.childLanes?sf(t,e,r):(G(ne,ne.current&1),t=Dt(t,e,r),t!==null?t.sibling:null);G(ne,ne.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return of(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(ne,ne.current),n)break;return null;case 22:case 23:return e.lanes=0,tf(t,e,r)}return Dt(t,e,r)}var af,za,lf,uf;af=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};za=function(){};lf=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,jr(bt.current);var s=null;switch(r){case"input":i=aa(t,i),n=aa(t,n),s=[];break;case"select":i=se({},i,{value:void 0}),n=se({},n,{value:void 0}),s=[];break;case"textarea":i=ca(t,i),n=ca(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Cs)}ha(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};uf=function(t,e,r,n){r!==n&&(e.flags|=4)};function $n(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function tv(t,e,r){var n=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return ze(e.type)&&Os(),Se(e),null;case 3:return n=e.stateNode,vn(),Y(Ue),Y(xe),Bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(Ka(pt),pt=null))),za(t,e),Se(e),null;case 5:Ml(e);var i=jr(fi.current);if(r=e.type,t!==null&&e.stateNode!=null)lf(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return Se(e),null}if(t=jr(bt.current),Vi(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[kt]=e,n[di]=s,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(i=0;i<Mn.length;i++)Q(Mn[i],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":ju(n,s),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Q("invalid",n);break;case"textarea":Ou(n,s),Q("invalid",n)}ha(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wi(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wi(n.textContent,a,t),i=["children",""+a]):ti.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":$i(n),Cu(n,s,!0);break;case"textarea":$i(n),Tu(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Cs)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ld(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[kt]=e,t[di]=n,af(t,e,!1,!1),e.stateNode=t;e:{switch(o=fa(r,n),r){case"dialog":Q("cancel",t),Q("close",t),i=n;break;case"iframe":case"object":case"embed":Q("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mn.length;i++)Q(Mn[i],t);i=n;break;case"source":Q("error",t),i=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),i=n;break;case"details":Q("toggle",t),i=n;break;case"input":ju(t,n),i=aa(t,n),Q("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=se({},n,{value:void 0}),Q("invalid",t);break;case"textarea":Ou(t,n),i=ca(t,n),Q("invalid",t);break;default:i=n}ha(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zd(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dd(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ri(t,l):typeof l=="number"&&ri(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ti.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Q("scroll",t):l!=null&&vl(t,s,l,o))}switch(r){case"input":$i(t),Cu(t,n,!1);break;case"textarea":$i(t),Tu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ar(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?on(t,!!n.multiple,s,!1):n.defaultValue!=null&&on(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Se(e),null;case 6:if(t&&e.stateNode!=null)uf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=jr(fi.current),jr(bt.current),Vi(e)){if(n=e.stateNode,r=e.memoizedProps,n[kt]=e,(s=n.nodeValue!==r)&&(t=Je,t!==null))switch(t.tag){case 3:Wi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=e,e.stateNode=n}return Se(e),null;case 13:if(Y(ne),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Ke!==null&&e.mode&1&&!(e.flags&128))jh(),gn(),e.flags|=98560,s=!1;else if(s=Vi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[kt]=e}else gn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),s=!1}else pt!==null&&(Ka(pt),pt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?fe===0&&(fe=3):Zl())),e.updateQueue!==null&&(e.flags|=4),Se(e),null);case 4:return vn(),za(t,e),t===null&&ui(e.stateNode.containerInfo),Se(e),null;case 10:return Ll(e.type._context),Se(e),null;case 17:return ze(e.type)&&Os(),Se(e),null;case 19:if(Y(ne),s=e.memoizedState,s===null)return Se(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)$n(s,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$s(t),o!==null){for(e.flags|=128,$n(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return G(ne,ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&ae()>wn&&(e.flags|=128,n=!0,$n(s,!1),e.lanes=4194304)}else{if(!n)if(t=$s(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$n(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return Se(e),null}else 2*ae()-s.renderingStartTime>wn&&r!==1073741824&&(e.flags|=128,n=!0,$n(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ae(),e.sibling=null,r=ne.current,G(ne,n?r&1|2:r&1),e):(Se(e),null);case 22:case 23:return Xl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ve&1073741824&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function rv(t,e){switch(Il(e),e.tag){case 1:return ze(e.type)&&Os(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vn(),Y(Ue),Y(xe),Bl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ml(e),null;case 13:if(Y(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));gn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(ne),null;case 4:return vn(),null;case 10:return Ll(e.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var Ki=!1,be=!1,nv=typeof WeakSet=="function"?WeakSet:Set,R=null;function nn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(t,e,n)}else r.current=null}function Ma(t,e,r){try{r()}catch(n){oe(t,e,n)}}var yc=!1;function iv(t,e){if(Ea=bs,t=fh(),Pl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ba={focusedElem:t,selectionRange:r},bs=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:ct(e.type,w),_);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(S){oe(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=yc,yc=!1,y}function Gn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ma(e,r,s)}i=i.next}while(i!==n)}}function so(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ba(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cf(t){var e=t.alternate;e!==null&&(t.alternate=null,cf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kt],delete e[di],delete e[Ca],delete e[Mm],delete e[Bm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function df(t){return t.tag===5||t.tag===3||t.tag===4}function wc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Cs));else if(n!==4&&(t=t.child,t!==null))for(Fa(t,e,r),t=t.sibling;t!==null;)Fa(t,e,r),t=t.sibling}function Wa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wa(t,e,r),t=t.sibling;t!==null;)Wa(t,e,r),t=t.sibling}var ve=null,ht=!1;function Ft(t,e,r){for(r=r.child;r!==null;)hf(t,e,r),r=r.sibling}function hf(t,e,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ys,r)}catch{}switch(r.tag){case 5:be||nn(r,e);case 6:var n=ve,i=ht;ve=null,Ft(t,e,r),ve=n,ht=i,ve!==null&&(ht?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(ht?(t=ve,r=r.stateNode,t.nodeType===8?No(t.parentNode,r):t.nodeType===1&&No(t,r),oi(t)):No(ve,r.stateNode));break;case 4:n=ve,i=ht,ve=r.stateNode.containerInfo,ht=!0,Ft(t,e,r),ve=n,ht=i;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ma(r,e,o),i=i.next}while(i!==n)}Ft(t,e,r);break;case 1:if(!be&&(nn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,e,a)}Ft(t,e,r);break;case 21:Ft(t,e,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,Ft(t,e,r),be=n):Ft(t,e,r);break;default:Ft(t,e,r)}}function _c(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nv),e.forEach(function(n){var i=fv.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ot(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,ht=!1;break e;case 3:ve=a.stateNode.containerInfo,ht=!0;break e;case 4:ve=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(ve===null)throw Error(j(160));hf(s,o,i),ve=null,ht=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){oe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ff(e,t),e=e.sibling}function ff(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ot(e,t),yt(t),n&4){try{Gn(3,t,t.return),so(3,t)}catch(w){oe(t,t.return,w)}try{Gn(5,t,t.return)}catch(w){oe(t,t.return,w)}}break;case 1:ot(e,t),yt(t),n&512&&r!==null&&nn(r,r.return);break;case 5:if(ot(e,t),yt(t),n&512&&r!==null&&nn(r,r.return),t.flags&32){var i=t.stateNode;try{ri(i,"")}catch(w){oe(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ad(i,s),fa(a,o);var u=fa(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?zd(i,d):c==="dangerouslySetInnerHTML"?Dd(i,d):c==="children"?ri(i,d):vl(i,c,d,u)}switch(a){case"input":la(i,s);break;case"textarea":$d(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?on(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?on(i,!!s.multiple,s.defaultValue,!0):on(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(w){oe(t,t.return,w)}}break;case 6:if(ot(e,t),yt(t),n&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){oe(t,t.return,w)}}break;case 3:if(ot(e,t),yt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oi(e.containerInfo)}catch(w){oe(t,t.return,w)}break;case 4:ot(e,t),yt(t);break;case 13:ot(e,t),yt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ql=ae())),n&4&&_c(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(be=(u=be)||c,ot(e,t),be=u):ot(e,t),yt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(f=R,m=f.child,f.tag){case 0:case 11:case 14:case 15:Gn(4,f,f.return);break;case 1:nn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){oe(n,r,w)}}break;case 5:nn(f,f.return);break;case 22:if(f.memoizedState!==null){kc(d);continue}}m!==null?(m.return=f,R=m):kc(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ud("display",o))}catch(w){oe(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){oe(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ot(e,t),yt(t),n&4&&_c(t);break;case 21:break;default:ot(e,t),yt(t)}}function yt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(df(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ri(i,""),n.flags&=-33);var s=wc(t);Wa(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=wc(t);Fa(t,a,o);break;default:throw Error(j(161))}}catch(l){oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sv(t,e,r){R=t,pf(t)}function pf(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ki;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||be;a=Ki;var u=be;if(Ki=o,(be=l)&&!u)for(R=i;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Ec(i):l!==null?(l.return=o,R=l):Ec(i);for(;s!==null;)R=s,pf(s),s=s.sibling;R=i,Ki=a,be=u}Sc(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):Sc(t)}}function Sc(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||so(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!be)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ct(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sc(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&oi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}be||e.flags&512&&Ba(e)}catch(f){oe(e,e.return,f)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function kc(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function Ec(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{so(4,e)}catch(l){oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){oe(e,i,l)}}var s=e.return;try{Ba(e)}catch(l){oe(e,s,l)}break;case 5:var o=e.return;try{Ba(e)}catch(l){oe(e,o,l)}}}catch(l){oe(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var ov=Math.ceil,Us=Ut.ReactCurrentDispatcher,Jl=Ut.ReactCurrentOwner,rt=Ut.ReactCurrentBatchConfig,V=0,ge=null,ce=null,ye=0,Ve=0,sn=cr(0),fe=0,vi=null,Nr=0,oo=0,Gl=0,Qn=null,Le=null,Ql=0,wn=1/0,Ot=null,zs=!1,Va=null,nr=null,Ji=!1,Qt=null,Ms=0,Yn=0,Ha=null,ms=-1,vs=0;function Re(){return V&6?ae():ms!==-1?ms:ms=ae()}function ir(t){return t.mode&1?V&2&&ye!==0?ye&-ye:Wm.transition!==null?(vs===0&&(vs=Yd()),vs):(t=q,t!==0||(t=window.event,t=t===void 0?16:ih(t.type)),t):1}function mt(t,e,r,n){if(50<Yn)throw Yn=0,Ha=null,Error(j(185));xi(t,r,n),(!(V&2)||t!==ge)&&(t===ge&&(!(V&2)&&(oo|=r),fe===4&&Kt(t,ye)),Me(t,n),r===1&&V===0&&!(e.mode&1)&&(wn=ae()+500,ro&&dr()))}function Me(t,e){var r=t.callbackNode;Wg(t,e);var n=Es(t,t===ge?ye:0);if(n===0)r!==null&&Iu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Iu(r),e===1)t.tag===0?Fm(bc.bind(null,t)):Eh(bc.bind(null,t)),Um(function(){!(V&6)&&dr()}),r=null;else{switch(Xd(n)){case 1:r=kl;break;case 4:r=Gd;break;case 16:r=ks;break;case 536870912:r=Qd;break;default:r=ks}r=kf(r,gf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gf(t,e){if(ms=-1,vs=0,V&6)throw Error(j(327));var r=t.callbackNode;if(dn()&&t.callbackNode!==r)return null;var n=Es(t,t===ge?ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bs(t,n);else{e=n;var i=V;V|=2;var s=vf();(ge!==t||ye!==e)&&(Ot=null,wn=ae()+500,Or(t,e));do try{uv();break}catch(a){mf(t,a)}while(!0);$l(),Us.current=s,V=i,ce!==null?e=0:(ge=null,ye=0,e=fe)}if(e!==0){if(e===2&&(i=ya(t),i!==0&&(n=i,e=qa(t,i))),e===1)throw r=vi,Or(t,0),Kt(t,n),Me(t,ae()),r;if(e===6)Kt(t,n);else{if(i=t.current.alternate,!(n&30)&&!av(i)&&(e=Bs(t,n),e===2&&(s=ya(t),s!==0&&(n=s,e=qa(t,s))),e===1))throw r=vi,Or(t,0),Kt(t,n),Me(t,ae()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:_r(t,Le,Ot);break;case 3:if(Kt(t,n),(n&130023424)===n&&(e=Ql+500-ae(),10<e)){if(Es(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Re(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ja(_r.bind(null,t,Le,Ot),e);break}_r(t,Le,Ot);break;case 4:if(Kt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-gt(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ov(n/1960))-n,10<n){t.timeoutHandle=ja(_r.bind(null,t,Le,Ot),n);break}_r(t,Le,Ot);break;case 5:_r(t,Le,Ot);break;default:throw Error(j(329))}}}return Me(t,ae()),t.callbackNode===r?gf.bind(null,t):null}function qa(t,e){var r=Qn;return t.current.memoizedState.isDehydrated&&(Or(t,e).flags|=256),t=Bs(t,e),t!==2&&(e=Le,Le=r,e!==null&&Ka(e)),t}function Ka(t){Le===null?Le=t:Le.push.apply(Le,t)}function av(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!vt(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kt(t,e){for(e&=~Gl,e&=~oo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-gt(e),n=1<<r;t[r]=-1,e&=~n}}function bc(t){if(V&6)throw Error(j(327));dn();var e=Es(t,0);if(!(e&1))return Me(t,ae()),null;var r=Bs(t,e);if(t.tag!==0&&r===2){var n=ya(t);n!==0&&(e=n,r=qa(t,n))}if(r===1)throw r=vi,Or(t,0),Kt(t,e),Me(t,ae()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_r(t,Le,Ot),Me(t,ae()),null}function Yl(t,e){var r=V;V|=1;try{return t(e)}finally{V=r,V===0&&(wn=ae()+500,ro&&dr())}}function Ar(t){Qt!==null&&Qt.tag===0&&!(V&6)&&dn();var e=V;V|=1;var r=rt.transition,n=q;try{if(rt.transition=null,q=1,t)return t()}finally{q=n,rt.transition=r,V=e,!(V&6)&&dr()}}function Xl(){Ve=sn.current,Y(sn)}function Or(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Dm(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Os();break;case 3:vn(),Y(Ue),Y(xe),Bl();break;case 5:Ml(n);break;case 4:vn();break;case 13:Y(ne);break;case 19:Y(ne);break;case 10:Ll(n.type._context);break;case 22:case 23:Xl()}r=r.return}if(ge=t,ce=t=sr(t.current,null),ye=Ve=e,fe=0,vi=null,Gl=oo=Nr=0,Le=Qn=null,xr!==null){for(e=0;e<xr.length;e++)if(r=xr[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}xr=null}return t}function mf(t,e){do{var r=ce;try{if($l(),fs.current=Ds,Ls){for(var n=ie.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ls=!1}if(Ir=0,pe=he=ie=null,Jn=!1,pi=0,Jl.current=null,r===null||r.return===null){fe=1,vi=e,ce=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=dc(o);if(m!==null){m.flags&=-257,hc(m,o,a,s,e),m.mode&1&&cc(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){cc(s,u,e),Zl();break e}l=Error(j(426))}}else if(ee&&a.mode&1){var _=dc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),hc(_,o,a,s,e),Nl(yn(l,a));break e}}s=l=yn(l,a),fe!==4&&(fe=2),Qn===null?Qn=[s]:Qn.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Xh(s,l,e);ic(s,g);break e;case 1:a=l;var h=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Zh(s,a,e);ic(s,S);break e}}s=s.return}while(s!==null)}wf(r)}catch(b){e=b,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function vf(){var t=Us.current;return Us.current=Ds,t===null?Ds:t}function Zl(){(fe===0||fe===3||fe===2)&&(fe=4),ge===null||!(Nr&268435455)&&!(oo&268435455)||Kt(ge,ye)}function Bs(t,e){var r=V;V|=2;var n=vf();(ge!==t||ye!==e)&&(Ot=null,Or(t,e));do try{lv();break}catch(i){mf(t,i)}while(!0);if($l(),V=r,Us.current=n,ce!==null)throw Error(j(261));return ge=null,ye=0,fe}function lv(){for(;ce!==null;)yf(ce)}function uv(){for(;ce!==null&&!Ag();)yf(ce)}function yf(t){var e=Sf(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?wf(t):ce=e,Jl.current=null}function wf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rv(r,e),r!==null){r.flags&=32767,ce=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(r=tv(r,e,Ve),r!==null){ce=r;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function _r(t,e,r){var n=q,i=rt.transition;try{rt.transition=null,q=1,cv(t,e,r,n)}finally{rt.transition=i,q=n}return null}function cv(t,e,r,n){do dn();while(Qt!==null);if(V&6)throw Error(j(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Vg(t,s),t===ge&&(ce=ge=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ji||(Ji=!0,kf(ks,function(){return dn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=rt.transition,rt.transition=null;var o=q;q=1;var a=V;V|=4,Jl.current=null,iv(t,r),ff(r,t),Pm(ba),bs=!!Ea,ba=Ea=null,t.current=r,sv(r),$g(),V=a,q=o,rt.transition=s}else t.current=r;if(Ji&&(Ji=!1,Qt=t,Ms=i),s=t.pendingLanes,s===0&&(nr=null),Ug(r.stateNode),Me(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zs)throw zs=!1,t=Va,Va=null,t;return Ms&1&&t.tag!==0&&dn(),s=t.pendingLanes,s&1?t===Ha?Yn++:(Yn=0,Ha=t):Yn=0,dr(),null}function dn(){if(Qt!==null){var t=Xd(Ms),e=rt.transition,r=q;try{if(rt.transition=null,q=16>t?16:t,Qt===null)var n=!1;else{if(t=Qt,Qt=null,Ms=0,V&6)throw Error(j(331));var i=V;for(V|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Gn(8,c,s)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var f=c.sibling,m=c.return;if(cf(c),c===u){R=null;break}if(f!==null){f.return=m,R=f;break}R=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gn(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,R=g;break e}R=s.return}}var h=t.current;for(R=h;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=h;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:so(9,a)}}catch(b){oe(a,a.return,b)}if(a===o){R=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,R=S;break e}R=a.return}}if(V=i,dr(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ys,t)}catch{}n=!0}return n}finally{q=r,rt.transition=e}}return!1}function xc(t,e,r){e=yn(r,e),e=Xh(t,e,1),t=rr(t,e,1),e=Re(),t!==null&&(xi(t,1,e),Me(t,e))}function oe(t,e,r){if(t.tag===3)xc(t,t,r);else for(;e!==null;){if(e.tag===3){xc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){t=yn(r,t),t=Zh(e,t,1),e=rr(e,t,1),t=Re(),e!==null&&(xi(e,1,t),Me(e,t));break}}e=e.return}}function dv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Re(),t.pingedLanes|=t.suspendedLanes&r,ge===t&&(ye&r)===r&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ae()-Ql?Or(t,0):Gl|=r),Me(t,e)}function _f(t,e){e===0&&(t.mode&1?(e=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):e=1);var r=Re();t=Lt(t,e),t!==null&&(xi(t,e,r),Me(t,r))}function hv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_f(t,r)}function fv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),_f(t,r)}var Sf;Sf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)De=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return De=!1,ev(t,e,r);De=!!(t.flags&131072)}else De=!1,ee&&e.flags&1048576&&bh(e,Rs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gs(t,e),t=e.pendingProps;var i=pn(e,xe.current);cn(e,r),i=Wl(null,e,n,t,i,r);var s=Vl();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ze(n)?(s=!0,Ts(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ul(e),i.updater=io,e.stateNode=i,i._reactInternals=e,Na(e,n,t,r),e=La(null,e,n,!0,s,r)):(e.tag=0,ee&&s&&Rl(e),Te(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gs(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gv(n),t=ct(n,t),i){case 0:e=$a(null,e,n,t,r);break e;case 1:e=gc(null,e,n,t,r);break e;case 11:e=fc(null,e,n,t,r);break e;case 14:e=pc(null,e,n,ct(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ct(n,i),$a(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ct(n,i),gc(t,e,n,i,r);case 3:e:{if(nf(e),t===null)throw Error(j(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Ph(t,e),As(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yn(Error(j(423)),e),e=mc(t,e,n,r,i);break e}else if(n!==i){i=yn(Error(j(424)),e),e=mc(t,e,n,r,i);break e}else for(Ke=tr(e.stateNode.containerInfo.firstChild),Je=e,ee=!0,pt=null,r=Oh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gn(),n===i){e=Dt(t,e,r);break e}Te(t,e,n,r)}e=e.child}return e;case 5:return Rh(e),t===null&&Pa(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xa(n,i)?o=null:s!==null&&xa(n,s)&&(e.flags|=32),rf(t,e),Te(t,e,o,r),e.child;case 6:return t===null&&Pa(e),null;case 13:return sf(t,e,r);case 4:return zl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=mn(e,null,n,r):Te(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ct(n,i),fc(t,e,n,i,r);case 7:return Te(t,e,e.pendingProps,r),e.child;case 8:return Te(t,e,e.pendingProps.children,r),e.child;case 12:return Te(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,G(Is,n._currentValue),n._currentValue=o,s!==null)if(vt(s.value,o)){if(s.children===i.children&&!Ue.current){e=Dt(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Nt(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Ra(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ra(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Te(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,cn(e,r),i=nt(i),n=n(i),e.flags|=1,Te(t,e,n,r),e.child;case 14:return n=e.type,i=ct(n,e.pendingProps),i=ct(n.type,i),pc(t,e,n,i,r);case 15:return ef(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ct(n,i),gs(t,e),e.tag=1,ze(n)?(t=!0,Ts(e)):t=!1,cn(e,r),Yh(e,n,i),Na(e,n,i,r),La(null,e,n,!0,t,r);case 19:return of(t,e,r);case 22:return tf(t,e,r)}throw Error(j(156,e.tag))};function kf(t,e){return Jd(t,e)}function pv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,r,n){return new pv(t,e,r,n)}function eu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return eu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wl)return 11;if(t===_l)return 14}return 2}function sr(t,e){var r=t.alternate;return r===null?(r=tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ys(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")eu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jr:return Tr(r.children,i,s,e);case yl:o=8,i|=8;break;case na:return t=tt(12,r,e,i|2),t.elementType=na,t.lanes=s,t;case ia:return t=tt(13,r,e,i),t.elementType=ia,t.lanes=s,t;case sa:return t=tt(19,r,e,i),t.elementType=sa,t.lanes=s,t;case Rd:return ao(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Td:o=10;break e;case Pd:o=9;break e;case wl:o=11;break e;case _l:o=14;break e;case Vt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=tt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Tr(t,e,r,n){return t=tt(7,t,n,e),t.lanes=r,t}function ao(t,e,r,n){return t=tt(22,t,n,e),t.elementType=Rd,t.lanes=r,t.stateNode={isHidden:!1},t}function Bo(t,e,r){return t=tt(6,t,null,e),t.lanes=r,t}function Fo(t,e,r){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mv(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tu(t,e,r,n,i,s,o,a,l){return t=new mv(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(s),t}function vv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ef(t){if(!t)return lr;t=t._reactInternals;e:{if(Lr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(ze(r))return kh(t,r,e)}return e}function bf(t,e,r,n,i,s,o,a,l){return t=tu(r,n,!0,t,i,s,o,a,l),t.context=Ef(null),r=t.current,n=Re(),i=ir(r),s=Nt(n,i),s.callback=e??null,rr(r,s,i),t.current.lanes=i,xi(t,i,n),Me(t,n),t}function lo(t,e,r,n){var i=e.current,s=Re(),o=ir(i);return r=Ef(r),e.context===null?e.context=r:e.pendingContext=r,e=Nt(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rr(i,e,o),t!==null&&(mt(t,i,o,s),hs(t,i,o)),o}function Fs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ru(t,e){jc(t,e),(t=t.alternate)&&jc(t,e)}function yv(){return null}var xf=typeof reportError=="function"?reportError:function(t){console.error(t)};function nu(t){this._internalRoot=t}uo.prototype.render=nu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));lo(t,e,null,null)};uo.prototype.unmount=nu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ar(function(){lo(null,t,null,null)}),e[$t]=null}};function uo(t){this._internalRoot=t}uo.prototype.unstable_scheduleHydration=function(t){if(t){var e=th();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qt.length&&e!==0&&e<qt[r].priority;r++);qt.splice(r,0,t),r===0&&nh(t)}};function iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function co(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cc(){}function wv(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Fs(o);s.call(u)}}var o=bf(e,n,t,0,null,!1,!1,"",Cc);return t._reactRootContainer=o,t[$t]=o.current,ui(t.nodeType===8?t.parentNode:t),Ar(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Fs(l);a.call(u)}}var l=tu(t,0,!1,null,null,!1,!1,"",Cc);return t._reactRootContainer=l,t[$t]=l.current,ui(t.nodeType===8?t.parentNode:t),Ar(function(){lo(e,l,r,n)}),l}function ho(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fs(o);a.call(l)}}lo(e,o,t,i)}else o=wv(r,e,t,i,n);return Fs(o)}Zd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=zn(e.pendingLanes);r!==0&&(El(e,r|1),Me(e,ae()),!(V&6)&&(wn=ae()+500,dr()))}break;case 13:Ar(function(){var n=Lt(t,1);if(n!==null){var i=Re();mt(n,t,1,i)}}),ru(t,1)}};bl=function(t){if(t.tag===13){var e=Lt(t,134217728);if(e!==null){var r=Re();mt(e,t,134217728,r)}ru(t,134217728)}};eh=function(t){if(t.tag===13){var e=ir(t),r=Lt(t,e);if(r!==null){var n=Re();mt(r,t,e,n)}ru(t,e)}};th=function(){return q};rh=function(t,e){var r=q;try{return q=t,e()}finally{q=r}};ga=function(t,e,r){switch(e){case"input":if(la(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=to(n);if(!i)throw Error(j(90));Nd(n),la(n,i)}}}break;case"textarea":$d(t,r);break;case"select":e=r.value,e!=null&&on(t,!!r.multiple,e,!1)}};Fd=Yl;Wd=Ar;var _v={usingClientEntryPoint:!1,Events:[Ci,Xr,to,Md,Bd,Yl]},Ln={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sv={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qd(t),t===null?null:t.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gi.isDisabled&&Gi.supportsFiber)try{Ys=Gi.inject(Sv),Et=Gi}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_v;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(e))throw Error(j(200));return vv(t,e,null,r)};Qe.createRoot=function(t,e){if(!iu(t))throw Error(j(299));var r=!1,n="",i=xf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tu(t,1,!1,null,null,r,!1,n,i),t[$t]=e.current,ui(t.nodeType===8?t.parentNode:t),new nu(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=qd(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Ar(t)};Qe.hydrate=function(t,e,r){if(!co(e))throw Error(j(200));return ho(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!iu(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=xf;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=bf(e,null,t,1,r??null,i,!1,s,o),t[$t]=e.current,ui(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new uo(e)};Qe.render=function(t,e,r){if(!co(e))throw Error(j(200));return ho(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!co(t))throw Error(j(40));return t._reactRootContainer?(Ar(function(){ho(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};Qe.unstable_batchedUpdates=Yl;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!co(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ho(t,e,r,!1,n)};Qe.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(t){console.error(t)}}jf(),xd.exports=Qe;var kv=xd.exports,Oc=kv;ta.createRoot=Oc.createRoot,ta.hydrateRoot=Oc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yi.apply(this,arguments)}var Yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yt||(Yt={}));const Tc="popstate";function Ev(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Ws("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:wi(i)}return Cf(e,r,null,t)}function bv(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Dr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ws("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:wi(s))}function n(i,s){su(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Cf(e,r,n,t)}function le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function su(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xv(){return Math.random().toString(36).substr(2,8)}function Pc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ws(t,e,r,n){return r===void 0&&(r=null),yi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dr(e):e,{state:r,key:e&&e.key||n||xv()})}function wi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Dr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Cf(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Yt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Yt.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:w.location,delta:g})}function f(_,g){a=Yt.Push;let h=Ws(w.location,_,g);r&&r(h,_),u=c()+1;let p=Pc(h,u),S=w.createHref(h);try{o.pushState(p,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(S)}s&&l&&l({action:a,location:w.location,delta:1})}function m(_,g){a=Yt.Replace;let h=Ws(w.location,_,g);r&&r(h,_),u=c();let p=Pc(h,u),S=w.createHref(h);o.replaceState(p,"",S),s&&l&&l({action:a,location:w.location,delta:0})}function y(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof _=="string"?_:wi(_);return h=h.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let w={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Tc,d),l=_,()=>{i.removeEventListener(Tc,d),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(_){return o.go(_)}};return w}var Rc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rc||(Rc={}));function jv(t,e,r){return r===void 0&&(r="/"),Cv(t,e,r)}function Cv(t,e,r,n){let i=typeof e=="string"?Dr(e):e,s=ou(i.pathname||"/",r);if(s==null)return null;let o=Of(t);Ov(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Mv(s);a=Dv(o[l],u)}return a}function Of(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=or([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Of(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:$v(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Tf(s.path))i(s,o,l)}),e}function Tf(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Tf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Ov(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Lv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tv=/^:[\w-]+$/,Pv=3,Rv=2,Iv=1,Nv=10,Av=-2,Ic=t=>t==="*";function $v(t,e){let r=t.split("/"),n=r.length;return r.some(Ic)&&(n+=Av),e&&(n+=Rv),r.filter(i=>!Ic(i)).reduce((i,s)=>i+(Tv.test(s)?Pv:s===""?Iv:Nv),n)}function Lv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Dv(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Uv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:or([s,d.pathname]),pathnameBase:Vv(or([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=or([s,d.pathnameBase]))}return o}function Uv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=zv(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function zv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),su(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Mv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return su(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Bv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Dr(t):t;return{pathname:r?r.startsWith("/")?r:Fv(r,e):e,search:Hv(n),hash:qv(i)}}function Fv(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Wo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function au(t,e){let r=Wv(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lu(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Dr(t):(i=yi({},t),le(!i.pathname||!i.pathname.includes("?"),Wo("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),Wo("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),Wo("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Bv(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const or=t=>t.join("/").replace(/\/\/+/g,"/"),Vv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pf=["post","put","patch","delete"];new Set(Pf);const Jv=["get",...Pf];new Set(Jv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_i.apply(this,arguments)}const uu=k.createContext(null),Gv=k.createContext(null),hr=k.createContext(null),fo=k.createContext(null),fr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Rf=k.createContext(null);function Qv(t,e){let{relative:r}=e===void 0?{}:e;bn()||le(!1);let{basename:n,navigator:i}=k.useContext(hr),{hash:s,pathname:o,search:a}=Nf(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:or([n,o])),i.createHref({pathname:l,search:a,hash:s})}function bn(){return k.useContext(fo)!=null}function xn(){return bn()||le(!1),k.useContext(fo).location}function If(t){k.useContext(hr).static||k.useLayoutEffect(t)}function po(){let{isDataRoute:t}=k.useContext(fr);return t?uy():Yv()}function Yv(){bn()||le(!1);let t=k.useContext(uu),{basename:e,future:r,navigator:n}=k.useContext(hr),{matches:i}=k.useContext(fr),{pathname:s}=xn(),o=JSON.stringify(au(i,r.v7_relativeSplatPath)),a=k.useRef(!1);return If(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=lu(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:or([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}function Nf(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(hr),{matches:i}=k.useContext(fr),{pathname:s}=xn(),o=JSON.stringify(au(i,n.v7_relativeSplatPath));return k.useMemo(()=>lu(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Xv(t,e){return Zv(t,e)}function Zv(t,e,r,n){bn()||le(!1);let{navigator:i}=k.useContext(hr),{matches:s}=k.useContext(fr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=xn(),c;if(e){var d;let _=typeof e=="string"?Dr(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||le(!1),c=_}else c=u;let f=c.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=jv(t,{pathname:m}),w=iy(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:or([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:or([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&w?k.createElement(fo.Provider,{value:{location:_i({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Yt.Pop}},w):w}function ey(){let t=ly(),e=Kv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,null)}const ty=k.createElement(ey,null);class ry extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(fr.Provider,{value:this.props.routeContext},k.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ny(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(uu);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(fr.Provider,{value:e},n)}function iy(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=r,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,y=!1,w=null,_=null;r&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||ty,l&&(u<0&&f===0?(cy("route-fallback"),y=!0,_=null):u===f&&(y=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),h=()=>{let p;return m?p=w:y?p=_:d.route.Component?p=k.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,k.createElement(ny,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(ry,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Af=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Af||{}),$f=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($f||{});function sy(t){let e=k.useContext(uu);return e||le(!1),e}function oy(t){let e=k.useContext(Gv);return e||le(!1),e}function ay(t){let e=k.useContext(fr);return e||le(!1),e}function Lf(t){let e=ay(),r=e.matches[e.matches.length-1];return r.route.id||le(!1),r.route.id}function ly(){var t;let e=k.useContext(Rf),r=oy(),n=Lf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function uy(){let{router:t}=sy(Af.UseNavigateStable),e=Lf($f.UseNavigateStable),r=k.useRef(!1);return If(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_i({fromRouteId:e},s)))},[t,e])}const Nc={};function cy(t,e,r){Nc[t]||(Nc[t]=!0)}function Df(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ac(t){let{to:e,replace:r,state:n,relative:i}=t;bn()||le(!1);let{future:s,static:o}=k.useContext(hr),{matches:a}=k.useContext(fr),{pathname:l}=xn(),u=po(),c=lu(e,au(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function Bn(t){le(!1)}function Uf(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Yt.Pop,navigator:s,static:o=!1,future:a}=t;bn()&&le(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:_i({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Dr(n));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:y="default"}=n,w=k.useMemo(()=>{let _=ou(c,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:m,key:y},navigationType:i}},[l,c,d,f,m,y,i]);return w==null?null:k.createElement(hr.Provider,{value:u},k.createElement(fo.Provider,{children:r,value:w}))}function dy(t){let{children:e,location:r}=t;return Xv(Ja(e),r)}new Promise(()=>{});function Ja(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,Ja(n.props.children,s));return}n.type!==Bn&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ja(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(this,arguments)}function hy(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function py(t,e){return t.button===0&&(!e||e==="_self")&&!fy(t)}const gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],my="6";try{window.__reactRouterVersion=my}catch{}const vy="startTransition",Vs=dg[vy];function yy(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=Ev({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=k.useCallback(d=>{u&&Vs?Vs(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.useEffect(()=>Df(n),[n]),k.createElement(Uf,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}function wy(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=bv({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=k.useCallback(d=>{u&&Vs?Vs(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.useEffect(()=>Df(n),[n]),k.createElement(Uf,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const _y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vo=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=hy(e,gy),{basename:m}=k.useContext(hr),y,w=!1;if(typeof u=="string"&&Sy.test(u)&&(y=u,_y))try{let p=new URL(window.location.href),S=u.startsWith("//")?new URL(p.protocol+u):new URL(u),b=ou(S.pathname,m);S.origin===p.origin&&b!=null?u=b+S.search+S.hash:w=!0}catch{}let _=Qv(u,{relative:i}),g=ky(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function h(p){n&&n(p),p.defaultPrevented||g(p)}return k.createElement("a",Ga({},f,{href:y||_,onClick:w||s?n:h,ref:r,target:l}))});var $c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($c||($c={}));var Lc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));function ky(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=po(),u=xn(),c=Nf(t,{relative:o});return k.useCallback(d=>{if(py(d,r)){d.preventDefault();let f=n!==void 0?n:wi(u)===wi(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}const Qi=t=>({padding:"8px 12px",borderRadius:8,border:"1px solid #cdb9a7",background:t?"#8B5E3C":"#fff5ee",color:t?"#fff":"#4a3a2f",fontWeight:700,marginRight:10,textDecoration:"none"});function Ey(){const t=xn(),e=po(),r=(localStorage.getItem("meRole")||"mitarbeiter").toLowerCase(),n=r==="admin"||r==="teamleiter",i=()=>{localStorage.removeItem("isAuthed"),localStorage.removeItem("meId"),localStorage.removeItem("meName"),localStorage.removeItem("meCode"),localStorage.removeItem("meRole"),localStorage.removeItem("meNotfallAdmin"),e("/",{replace:!0})};return v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:10},children:[v.jsx(Vo,{to:"/zeiterfassung",style:Qi(t.pathname.includes("/zeiterfassung")),children:"Zeiterfassung"}),v.jsx(Vo,{to:"/monatsuebersicht",style:Qi(t.pathname.includes("/monatsuebersicht")),children:"Monatsbersicht"}),n&&v.jsx(Vo,{to:"/mitarbeiter",style:Qi(t.pathname.includes("/mitarbeiter")),children:"Mitarbeiter"}),v.jsx("div",{style:{marginLeft:"auto"},children:v.jsx("button",{onClick:i,style:Qi(!1),children:"Logout"})})]})}var Qa=function(t,e){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Qa(t,e)};function zf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hs=function(){return Hs=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Hs.apply(this,arguments)};function jn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Mf(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Bf(t,e){return function(r,n){e(r,n,t)}}function Ff(t,e,r,n,i,s){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,f=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(g||null))};var _=(0,r[m])(a==="accessor"?{get:c.get,set:c.set}:c[l],y);if(a==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(d=o(_.get))&&(c.get=d),(d=o(_.set))&&(c.set=d),(d=o(_.init))&&i.unshift(d)}else(d=o(_))&&(a==="field"?i.unshift(d):c[l]=d)}u&&Object.defineProperty(u,n.name,c),f=!0}function Wf(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Vf(t){return typeof t=="symbol"?t:"".concat(t)}function Hf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function qf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function Kf(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var go=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Jf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&go(e,t,r)}function qs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Gf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cu(arguments[e]));return t}function Qf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Yf(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function Xf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(y){return Promise.resolve(y).then(m,d)}}function a(m,y){n[m]&&(i[m]=function(w){return new Promise(function(_,g){s.push([m,w,_,g])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(n[m](y))}catch(w){f(s[0][3],w)}}function u(m){m.value instanceof _n?Promise.resolve(m.value.v).then(c,d):f(s[0][2],m)}function c(m){l("next",m)}function d(m){l("throw",m)}function f(m,y){m(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Zf(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:_n(t[i](o)),done:!1}:s?s(o):o}:s}}function ep(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qs=="function"?qs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function tp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var by=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ya=function(t){return Ya=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Ya(t)};function rp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ya(t),n=0;n<r.length;n++)r[n]!=="default"&&go(e,t,r[n]);return by(e,t),e}function np(t){return t&&t.__esModule?t:{default:t}}function ip(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sp(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function op(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ap(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var xy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function lp(t){function e(s){t.error=t.hasError?new xy(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function up(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const jy={__extends:zf,__assign:Hs,__rest:jn,__decorate:Mf,__param:Bf,__esDecorate:Ff,__runInitializers:Wf,__propKey:Vf,__setFunctionName:Hf,__metadata:qf,__awaiter:N,__generator:Kf,__createBinding:go,__exportStar:Jf,__values:qs,__read:cu,__spread:Gf,__spreadArrays:Qf,__spreadArray:Yf,__await:_n,__asyncGenerator:Xf,__asyncDelegator:Zf,__asyncValues:ep,__makeTemplateObject:tp,__importStar:rp,__importDefault:np,__classPrivateFieldGet:ip,__classPrivateFieldSet:sp,__classPrivateFieldIn:op,__addDisposableResource:ap,__disposeResources:lp,__rewriteRelativeImportExtension:up},Cy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ap,get __assign(){return Hs},__asyncDelegator:Zf,__asyncGenerator:Xf,__asyncValues:ep,__await:_n,__awaiter:N,__classPrivateFieldGet:ip,__classPrivateFieldIn:op,__classPrivateFieldSet:sp,__createBinding:go,__decorate:Mf,__disposeResources:lp,__esDecorate:Ff,__exportStar:Jf,__extends:zf,__generator:Kf,__importDefault:np,__importStar:rp,__makeTemplateObject:tp,__metadata:qf,__param:Bf,__propKey:Vf,__read:cu,__rest:jn,__rewriteRelativeImportExtension:up,__runInitializers:Wf,__setFunctionName:Hf,__spread:Gf,__spreadArray:Yf,__spreadArrays:Qf,__values:qs,default:jy},Symbol.toStringTag,{value:"Module"})),Oy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class du extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Dc extends du{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Uc extends du{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zc extends du{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xa||(Xa={}));class Ty{constructor(e,{headers:r={},customFetch:n,region:i=Xa.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Oy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return N(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:s,method:o,body:a,signal:l}=n;let u={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${r}`);c&&c!=="any"&&(u["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)):f=a;const m=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Dc(g)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new Uc(m);if(!m.ok)throw new zc(m);let w=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield m.json():w==="application/octet-stream"||w==="application/pdf"?_=yield m.blob():w==="text/event-stream"?_=m:w==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Dc(s)}:{data:null,error:s,response:s instanceof zc||s instanceof Uc?s.context:void 0}}})}}var Pe={};const Cn=Gp(Cy);var Yi={},Xi={},Zi={},es={},ts={},rs={},Mc;function cp(){if(Mc)return rs;Mc=1,Object.defineProperty(rs,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rs.default=t,rs}var Bc;function dp(){if(Bc)return ts;Bc=1,Object.defineProperty(ts,"__esModule",{value:!0});const e=Cn.__importDefault(cp());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,f;let m=null,y=null,w=null,_=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const b=await l.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=b:y=JSON.parse(b))}const p=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),S=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");p&&S&&S.length>1&&(w=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const p=await l.text();try{m=JSON.parse(p),Array.isArray(m)&&l.status===404&&(y=[],m=null,_=200,g="OK")}catch{l.status===404&&p===""?(_=204,g="No Content"):m={message:p}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,_=200,g="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:_,statusText:g}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=l==null?void 0:l.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}}return ts.default=r,ts}var Fc;function hp(){if(Fc)return es;Fc=1,Object.defineProperty(es,"__esModule",{value:!0});const e=Cn.__importDefault(dp());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return es.default=r,es}var Wc;function hu(){if(Wc)return Zi;Wc=1,Object.defineProperty(Zi,"__esModule",{value:!0});const e=Cn.__importDefault(hp()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${u}fts${c}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return Zi.default=n,Zi}var Vc;function fp(){if(Vc)return Xi;Vc=1,Object.defineProperty(Xi,"__esModule",{value:!0});const e=Cn.__importDefault(hu());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Xi.default=r,Xi}var Hc;function Py(){if(Hc)return Yi;Hc=1,Object.defineProperty(Yi,"__esModule",{value:!0});const t=Cn,e=t.__importDefault(fp()),r=t.__importDefault(hu());class n{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const f=new URL(`${this.url}/rpc/${s}`);let m;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{f.searchParams.append(w,_)})):(d="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:d,url:f,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Yi.default=n,Yi}Object.defineProperty(Pe,"__esModule",{value:!0});var pp=Pe.PostgrestError=bp=Pe.PostgrestBuilder=kp=Pe.PostgrestTransformBuilder=_p=Pe.PostgrestFilterBuilder=yp=Pe.PostgrestQueryBuilder=mp=Pe.PostgrestClient=void 0;const On=Cn,gp=On.__importDefault(Py());var mp=Pe.PostgrestClient=gp.default;const vp=On.__importDefault(fp());var yp=Pe.PostgrestQueryBuilder=vp.default;const wp=On.__importDefault(hu());var _p=Pe.PostgrestFilterBuilder=wp.default;const Sp=On.__importDefault(hp());var kp=Pe.PostgrestTransformBuilder=Sp.default;const Ep=On.__importDefault(dp());var bp=Pe.PostgrestBuilder=Ep.default;const xp=On.__importDefault(cp());pp=Pe.PostgrestError=xp.default;var jp=Pe.default={PostgrestClient:gp.default,PostgrestQueryBuilder:vp.default,PostgrestFilterBuilder:wp.default,PostgrestTransformBuilder:Sp.default,PostgrestBuilder:Ep.default,PostgrestError:xp.default};const Ry=fd({__proto__:null,get PostgrestBuilder(){return bp},get PostgrestClient(){return mp},get PostgrestError(){return pp},get PostgrestFilterBuilder(){return _p},get PostgrestQueryBuilder(){return yp},get PostgrestTransformBuilder(){return kp},default:jp},[Pe]),{PostgrestClient:Iy,PostgrestQueryBuilder:e_,PostgrestFilterBuilder:t_,PostgrestTransformBuilder:r_,PostgrestBuilder:n_,PostgrestError:i_}=jp||Ry;class Ny{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ay="2.79.0",$y=`realtime-js/${Ay}`,Ly="1.0.0",Za=1e4,Dy=1e3,Uy=100;var Xn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xn||(Xn={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var ft;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ft||(ft={}));var el;(function(t){t.websocket="websocket"})(el||(el={}));var kr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(kr||(kr={}));class zy{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Cp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const qc=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=My(o,t,e,i),s),{}):{}},My=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?Op(s,o):tl(o)},Op=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Vy(e,r)}switch(t){case J.bool:return By(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Fy(e);case J.json:case J.jsonb:return Wy(e);case J.timestamp:return Hy(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return tl(e);default:return tl(e)}},tl=t=>t,By=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Vy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Op(e,a))}return t},Hy=t=>typeof t=="string"?t.replace(" ","T"):t,Tp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ho{constructor(e,r,n={},i=Za){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kc||(Kc={}));class Zn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zn.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Zn.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zn.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(_=>_.presence_ref),m=d.map(_=>_.presence_ref),y=c.filter(_=>m.indexOf(_.presence_ref)<0),w=d.filter(_=>f.indexOf(_.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jc||(Jc={}));var ei;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ei||(ei={}));var Tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class fu{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ho(this,ft.join,this.params,this.timeout),this.rejoinTimer=new Cp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Zn(this),this.broadcastEndpointURL=Tp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[ei.PRESENCE]&&this.bindings[ei.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Tt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Tt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(Tt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let h=0;h<_;h++){const p=w[h],{filter:{event:S,schema:b,table:x,filter:C}}=p,T=m&&m[h];if(T&&T.event===S&&T.schema===b&&T.table===x&&T.filter===C)g.push(Object.assign(Object.assign({},p),{id:T.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Tt.SUBSCRIBED);return}}).receive("error",m=>{this.state=de.errored,e==null||e(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===ei.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ho(this,ft.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ho(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Uy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ft;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var y,w,_,g,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,b=(y=m.filter)===null||y===void 0?void 0:y.event;return S&&((w=r.ids)===null||w===void 0?void 0:w.includes(S))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(h=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return S==="*"||S===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:_,commit_timestamp:g,type:h,errors:p}=y;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&fu.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ft.close,{},e)}_onError(e){this._on(ft.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=qc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=qc(e.columns,e.old_record)),r}}const qo=()=>{},ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qy=[1e3,2e3,5e3,1e4],Ky=1e4,Jy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Za,this.transport=null,this.heartbeatIntervalMs=ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qo,this.ref=0,this.reconnectTimer=null,this.logger=qo,this.conn=null,this.sendBuffer=[],this.serializer=new zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${el.websocket}`,this.httpEndpoint=Tp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ny.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ly}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xn.connecting:return kr.Connecting;case Xn.open:return kr.Open;case Xn.closing:return kr.Closing;default:return kr.Closed}}isConnected(){return this.connectionState()===kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new fu(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Dy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ft.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Jy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:$y};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Cp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Za,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ns.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:qo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>qy[d-1]||Ky,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class pu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qy extends pu{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends pu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const gu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yy=()=>Response,nl=t=>{if(Array.isArray(t))return t.map(r=>nl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=nl(n)}),e},Xy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ko=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Zy=(t,e,r)=>N(void 0,void 0,void 0,function*(){const n=yield Yy();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new Qy(Ko(i),s,o))}).catch(i=>{e(new rl(Ko(i),i))}):e(new rl(Ko(t),t))}),e0=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Xy(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Ti(t,e,r,n,i,s){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,e0(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Zy(l,a,n))})})}function Si(t,e,r,n){return N(this,void 0,void 0,function*(){return Ti(t,"GET",e,r,n)})}function dt(t,e,r,n,i){return N(this,void 0,void 0,function*(){return Ti(t,"POST",e,n,i,r)})}function il(t,e,r,n,i){return N(this,void 0,void 0,function*(){return Ti(t,"PUT",e,n,i,r)})}function t0(t,e,r,n){return N(this,void 0,void 0,function*(){return Ti(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mu(t,e,r,n,i){return N(this,void 0,void 0,function*(){return Ti(t,"DELETE",e,n,i,r)})}class r0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return N(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}var Pp;class n0{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Pp]="BlobDownloadBuilder",this.promise=null}asStream(){return new r0(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return N(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(re(e))return{data:null,error:e};throw e}})}}Pp=Symbol.toStringTag;const i0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s0{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=gu(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return N(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Gc),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(e=="PUT"?il:dt)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(re(s))return{data:null,error:s};throw s}})}upload(e,r,n){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return N(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Gc.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield il(this.fetch,a.toString(),l,{headers:c});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return N(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new pu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}update(e,r,n){return N(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return N(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}copy(e,r,n){return N(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return N(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield dt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return N(this,void 0,void 0,function*(){try{const i=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Si(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new n0(l,this.shouldThrowOnError)}info(e){return N(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Si(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}exists(e){return N(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield t0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n)&&n instanceof rl){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return N(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}list(e,r,n){return N(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},i0),r),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}listV2(e,r){return N(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Rp="2.79.0",Ip={"X-Client-Info":`storage-js/${Rp}`};class o0{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=gu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return N(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Si(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}createBucket(e){return N(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(re(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return N(this,void 0,void 0,function*(){try{return{data:yield il(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(re(n))return{data:null,error:n};throw n}})}emptyBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class a0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=gu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}listBuckets(e){return N(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Si(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield mu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(re(r))return{data:null,error:r};throw r}})}}const vu={"X-Client-Info":`storage-js/${Rp}`,"Content-Type":"application/json"};class Np extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Jo extends Np{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l0 extends Np{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Qc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Qc||(Qc={}));const yu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),u0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),c0=(t,e,r)=>N(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Jo(Yc(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Jo(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Jo(a,i,o))}}else e(new l0(Yc(t),t))}),d0=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(u0(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function h0(t,e,r,n,i,s){return N(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,d0(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>c0(l,a,n))})})}function qe(t,e,r,n,i){return N(this,void 0,void 0,function*(){return h0(t,"POST",e,n,i,r)})}class f0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vu),r),this.fetch=yu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return N(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getIndex(e,r){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}listIndexes(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return N(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class p0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vu),r),this.fetch=yu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return N(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qe(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listVectors(e){return N(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield qe(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}queryVectors(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteVectors(e){return N(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qe(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class g0{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vu),r),this.fetch=yu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(e){return N(this,void 0,void 0,function*(){try{return{data:yield qe(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(){return N(this,arguments,void 0,function*(e={}){try{return{data:yield qe(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return N(this,void 0,void 0,function*(){try{return{data:(yield qe(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class m0 extends g0{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new v0(this.url,this.headers,e,this.fetch)}}class v0 extends f0{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return N(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return N(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return N(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return N(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new y0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class y0 extends p0{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return N(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return N(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return N(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return N(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return N(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class w0 extends o0{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new s0(this.url,this.headers,e,this.fetch)}get vectors(){return new m0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a0(this.url+"/iceberg",this.headers,this.fetch)}}const _0="2.79.0";let Fn="";typeof Deno<"u"?Fn="deno":typeof document<"u"?Fn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fn="react-native":Fn="node";const S0={"X-Client-Info":`supabase-js-${Fn}/${_0}`},k0={headers:S0},E0={schema:"public"},b0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x0={},j0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),C0=()=>Headers,O0=(t,e,r)=>{const n=j0(r),i=C0();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:u}))}};function T0(t){return t.endsWith("/")?t:t+"/"}function P0(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function R0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(T0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ap="2.79.0",Hr=30*1e3,sl=3,Go=sl*Hr,I0="http://localhost:9999",N0="supabase.auth.token",A0={"X-Client-Info":`gotrue-js/${Ap}`},ol="X-Supabase-Api-Version",$p={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,L0=10*60*1e3;class ki extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class D0 extends ki{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U0(t){return A(t)&&t.name==="AuthApiError"}class Er extends ki{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pr extends ki{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class lt extends pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function z0(t){return A(t)&&t.name==="AuthSessionMissingError"}class Mr extends pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class is extends pr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ss extends pr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M0(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xc extends pr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class al extends pr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qo(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Zc extends pr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ll extends pr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ks="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ed=` 	
\r=`.split(""),B0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ed.length;e+=1)t[ed[e].charCodeAt(0)]=-2;for(let e=0;e<Ks.length;e+=1)t[Ks[e].charCodeAt(0)]=e;return t})();function td(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ks[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ks[n]),e.queuedBits-=6}}function Lp(t,e,r){const n=B0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{V0(o,n,r)};for(let o=0;o<t.length;o+=1)Lp(t.charCodeAt(o),i,s);return e.join("")}function F0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function W0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}F0(n,e)}}function V0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function hn(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Lp(t.charCodeAt(i),r,n);return new Uint8Array(e)}function H0(t){const e=[];return W0(t,r=>e.push(r)),new Uint8Array(e)}function Cr(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>td(i,r,n)),td(null,r,n),e.join("")}function q0(t){return Math.round(Date.now()/1e3)+t}function K0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ke=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Dp=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function J0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Up=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wt=async(t,e)=>{await t.removeItem(e)};class mo{constructor(){this.promise=new mo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}mo.promiseConstructor=Promise;function Yo(t){const e=t.split(".");if(e.length!==3)throw new ll("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$0.test(e[n]))throw new ll("JWT not in base64url format");return{header:JSON.parse(rd(e[0])),payload:JSON.parse(rd(e[1])),signature:hn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Q0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y0(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function X0(t){return("0"+t.toString(16)).substr(-2)}function Z0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,X0).join("")}async function ew(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function tw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ew(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Br(t,e,r=!1){const n=Z0();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await qr(t,`${e}-code-verifier`,i);const s=await tw(n);return[s,n===s?"plain":"s256"]}const rw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nw(t){const e=t.headers.get(ol);if(!e||!e.match(rw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ow=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(t){if(!ow.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aw(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function nd(t){return JSON.parse(JSON.stringify(t))}const Sr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lw=[502,503,504];async function id(t){var e;if(!G0(t))throw new al(Sr(t),0);if(lw.includes(t.status))throw new al(Sr(t),t.status);let r;try{r=await t.json()}catch(s){throw new Er(Sr(s),s)}let n;const i=nw(t);if(i&&i.getTime()>=$p["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zc(Sr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Zc(Sr(r),t.status,r.weak_password.reasons);throw new D0(Sr(r),t.status||500,n)}const uw=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function L(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[ol]||(s[ol]=$p["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cw(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function cw(t,e,r,n,i,s){const o=uw(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new al(Sr(l),0)}if(a.ok||await id(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await id(l)}}function ut(t){var e;let r=null;fw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=q0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function sd(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dw(t){return{data:t,error:null}}function hw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=jn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function od(t){return t}function fw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zo=["global","local","others"];class pw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Up(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Zo[0]){if(Zo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=jn(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:od});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Fr(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fr(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fr(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fr(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fr(e.userId),Fr(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:od});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function ad(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wr={debug:!!(globalThis&&Dp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gw extends zp{}async function mw(t,e,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function vw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yw(t){return parseInt(t,16)}function ww(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _w(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=Mp(t.address),y=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);h+=`
- ${p}`}g+=h}return`${_}
${g}`}class ue extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Js extends ue{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Sw({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Bp(o)){if(s.rp.id!==o)return new ue({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ue({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Bp(n)){if(r.rpId!==n)return new ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ew{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const bw=new Ew;function xw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=jn(t,["challenge","user","excludeCredentials"]),s=hn(e).buffer,o=Object.assign(Object.assign({},r),{id:hn(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:hn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function jw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=jn(t,["challenge","allowCredentials"]),i=hn(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:hn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function Cw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Cr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Cr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ow(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Cr(new Uint8Array(i.authenticatorData)),clientDataJSON:Cr(new Uint8Array(i.clientDataJSON)),signature:Cr(new Uint8Array(i.signature)),userHandle:i.userHandle?Cr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ld(){var t,e;return!!(ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Tw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Js("Browser returned unexpected credential type",e)}:{data:null,error:new Js("Empty credential response",e)}}catch(e){return{data:null,error:Sw({error:e,options:t})}}}async function Pw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Js("Browser returned unexpected credential type",e)}:{data:null,error:new Js("Empty credential response",e)}}catch(e){return{data:null,error:kw({error:e,options:t})}}}const Rw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Iw={userVerification:"preferred",hints:["security-key"]};function Gs(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Gs(a,o):n[s]=Gs(o)}else n[s]=o}return n}function Nw(t,e){return Gs(Rw,t,e||{})}function Aw(t,e){return Gs(Iw,t,e||{})}class $w{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=i??bw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Nw(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:d}=await Tw({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Aw(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:d}=await Pw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn authentication")};try{if(!ld())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn registration")};try{if(!ld())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new Er("Unexpected error in register",o)}}}}vw();const Lw={url:I0,storageKey:N0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ud(t,e,r){return await r()}const Vr={};class Ei{get jwks(){var e,r;return(r=(e=Vr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Vr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ei.nextInstanceID,Ei.nextInstanceID+=1,this.instanceID>0&&ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Lw),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Up(i.fetch),this.lock=i.lock||ud,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mw:this.lock=ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $w(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Dp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ad(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ad(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ap}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ke()&&(r=J0(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ke()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),M0(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new Er("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ut}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:c,password:d,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Br(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:ut})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ut})}else throw new is("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sd})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sd})}else throw new is("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Mr;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,l,u,c,d,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:_,statement:g,options:h}=e;let p;if(ke())if(typeof _=="object")p=_;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")p=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=_}const S=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),b=await p.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Mp(b[0]);let C=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const M=await p.request({method:"eth_chainId"});C=yw(M)}const T={domain:S.host,address:x,statement:g,uri:S.href,version:"1",chainId:C,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=_w(T),y=await p.request({method:"personal_sign",params:[ww(m),x]})}try{const{data:w,error:_}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(_)throw _;if(!w||!w.session||!w.user){const g=new Mr;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,i,s,o,a,l,u,c,d,f,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:_,wallet:g,statement:h,options:p}=e;let S;if(ke())if(typeof g=="object")S=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))S=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const x=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),h?{statement:h}:null));let C;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")C=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)C=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const x=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:_,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Cr(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ut});if(g)throw g;if(!_||!_.session||!_.user){const h=new Mr;return this._returnResult({data:{user:null,session:null},error:h})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(A(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ut});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Mr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Br(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new is("You must provide either an email or phone number.")}catch(a){if(A(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Br(this.storage,this.storageKey));const a=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dw});return this._returnResult(a)}catch(s){if(A(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new lt;const{error:i}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(A(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new is("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Go:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await vr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=aw(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jt}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Jt})})}catch(r){if(A(r))return z0(r)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new lt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Br(this.storage,this.storageKey));const{data:u,error:c}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Jt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(A(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lt;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=Yo(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new lt;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ke())throw new ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ss("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xc("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new ss("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const m=f-c;m*1e3<=Hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const y=f-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,c);const{data:w,error:_}=await this._getUser(s);if(_)throw _;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(U0(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=K0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Br(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(A(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(A(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ut}),{data:f,error:m}=d;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Mr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Y0(async i=>(i>0&&await Q0(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Qo(s)&&Date.now()+o-n<Hr})}catch(n){if(this._debug(r,"error",n),A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vr(this.storage,this.storageKey);if(i&&this.userStorage){let o=await vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await qr(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xo()}else if(i&&!i.user&&!i.user){const o=await vr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Wt(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,i)):i.user=Xo()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Go;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Go}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Qo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mo;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new lt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),A(s)){const o={data:null,error:s};return Qo(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qr(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=nd(i);await qr(this.storage,this.storageKey,s)}else{const i=nd(r);await qr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hr}ms, refresh threshold is ${sl} ticks`),i<=sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Br(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Cw(e.webauthn.credential_response):Ow(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:xw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:jw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Yo(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new lt})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new lt});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new lt});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ke()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+L0>i)return n;const{data:s,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Yo(n);r!=null&&r.allowExpired||iw(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:o},error:null}}const c=sw(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,H0(`${a}.${l}`)))throw new ll("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}}Ei.nextInstanceID=0;const Dw=Ei;class Uw extends Dw{constructor(e){super(e)}}class zw{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=R0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:E0,realtime:x0,auth:Object.assign(Object.assign({},b0),{storageKey:l}),global:k0},c=P0(n??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=O0(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Iy(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new w0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ty(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Uw({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Gy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mw=(t,e,r)=>new zw(t,e,r);function Bw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Bw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fw="https://bamufsuengtookhbcnho.supabase.co",Ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhbXVmc3Vlbmd0b29raGJjbmhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MTY2MjgsImV4cCI6MjA3NjE5MjYyOH0.lzLhYE3mc0t6cG6sHsC3HCapampf9QjxwGCBWzgLCFw",Ee=Mw(Fw,Ww,{db:{schema:"public"},auth:{persistSession:!0,autoRefreshToken:!0}}),at=(t,e,r)=>Math.max(e,Math.min(r,t)),ul=t=>String(t).padStart(2,"0"),cd=t=>`${ul(Math.floor(t/60))}:${ul(t%60)}`,Vw=(t,e)=>Math.max(0,e-t),$e=t=>Math.round(t/15)*15,wt=5*60,_t=19*60+30,ea=(t=new Date)=>{const e=new Date(t);return e.setHours(0,0,0,0),e.toISOString().slice(0,10)};function Hw(){const t=JSON.parse(localStorage.getItem("me")||"null"),e=((t==null?void 0:t.role)||"").toLowerCase(),r=e==="admin"||e==="teamleiter",[n,i]=k.useState([]);k.useEffect(()=>{if(!r)return;let O=!1;return(async()=>{const{data:F,error:W}=await Ee.from("employees").select("id,name,active").eq("active",!0).order("name");!O&&F&&i(F),W&&console.error(W)})(),()=>{O=!0}},[r]);const[s,o]=k.useState(()=>{if(!r)return t!=null&&t.id?[t.id]:[];try{return JSON.parse(localStorage.getItem("activeEmployeeIds")||"[]")}catch{return t!=null&&t.id?[t.id]:[]}});k.useEffect(()=>{if(r)localStorage.setItem("activeEmployeeIds",JSON.stringify(s));else{const O=t!=null&&t.id?[t.id]:[];JSON.stringify(s)!==JSON.stringify(O)&&o(O)}},[r,t==null?void 0:t.id,s]);const a=O=>{r&&o(F=>{const W=new Set(F);return W.has(O)?W.delete(O):W.add(O),[...W]})},[l,u]=k.useState(()=>new Date),[c,d]=k.useState(!1),[f,m]=k.useState(!1),[y,w]=k.useState(""),[_,g]=k.useState(""),[h,p]=k.useState(null),[S,b]=k.useState($e(7*60)),[x,C]=k.useState($e(16*60+30)),[T,M]=k.useState(30),[z,H]=k.useState(""),[Ae,je]=k.useState([]),[st,zt]=k.useState(null);k.useEffect(()=>{(async()=>{const{data:O,error:F}=await Ee.from("projects").select("id,name,active").eq("active",!0).order("name");O&&je(O),F&&console.error(F)})()},[]);const Mt=k.useMemo(()=>Math.max(0,Vw(S,x)-(T||0)),[S,x,T]);async function Be(O){w(""),g(""),d(!0);const F=r?s[0]||null:(t==null?void 0:t.id)||null;if(!F){p(null),d(!1);return}const{data:W,error:Ce}=await Ee.from("time_entries").select("id,start_min,end_min,break_min,note,project_id").eq("employee_id",F).eq("work_date",O).limit(1).maybeSingle();Ce?(w("Fehler beim Laden: "+Ce.message),p(null)):W?(p(W.id),b($e(at(W.start_min??7*60,wt,_t))),C($e(at(W.end_min??16*60+30,wt,_t))),M(Number.isFinite(W.break_min)?W.break_min:30),H(W.note||""),zt(W.project_id||null)):(p(null),b($e(7*60)),C($e(16*60+30)),M(30),H(""),zt(null)),d(!1)}k.useEffect(()=>{Be(ea(l))},[l,JSON.stringify(s),r]);async function P(O,F){const W={employee_id:O,work_date:F,start_min:$e(at(S,wt,_t)),end_min:$e(at(x,wt,_t)),break_min:at(parseInt(T||0,10),0,240),note:z||"",project_id:st||null},{data:Ce,error:Ur}=await Ee.from("time_entries").select("id").eq("employee_id",O).eq("work_date",F).limit(1).maybeSingle();if(Ur)throw Ur;if(Ce!=null&&Ce.id){const{error:Ct,status:gr}=await Ee.from("time_entries").update(W).eq("id",Ce.id);if(Ct)throw Ct;return{id:Ce.id,status:gr}}else{const{data:Ct,error:gr,status:Pi}=await Ee.from("time_entries").insert(W).select("id").maybeSingle();if(gr)throw gr;return{id:(Ct==null?void 0:Ct.id)??null,status:Pi}}}async function D(O,F){const{data:W,error:Ce}=await Ee.from("time_entries").select("id,start_min,end_min,break_min,note,project_id").eq("employee_id",O).eq("work_date",F).limit(1).maybeSingle();if(Ce)throw Ce;if(!W)throw new Error("Kein Datensatz gefunden  vermutlich RLS blockiert oder Insert fehlgeschlagen.");if(!(W.start_min===$e(at(S,wt,_t))&&W.end_min===$e(at(x,wt,_t))&&(W.break_min||0)===at(parseInt(T||0,10),0,240)&&String(W.note||"")===String(z||"")&&(W.project_id||null)===(st||null)))throw new Error("Werte stimmen nach dem Speichern nicht berein (RLS/Trigger?).");return!0}async function U(){w(""),g("");const O=ea(l),F=r?s:t!=null&&t.id?[t.id]:[];if(!F.length){w("Bitte Mitarbeiter auswhlen.");return}if(x<=S){w("Ende muss nach Start liegen.");return}m(!0);try{for(const W of F)await P(W,O),await D(W,O);g(`Gespeichert${r?` fr ${F.length} MA`:""}`),await Be(O)}catch(W){w("Speichern nicht bernommen: "+(W.message||W))}finally{m(!1)}}async function K(){if(h){m(!0),w(""),g("");try{const{error:O}=await Ee.from("time_entries").delete().eq("id",h);if(O)throw O;const{data:F}=await Ee.from("time_entries").select("id").eq("id",h).maybeSingle();if(F!=null&&F.id)throw new Error("Eintrag wurde nicht gelscht (RLS?).");g("Eintrag gelscht"),p(null)}catch(O){w("Lschen fehlgeschlagen: "+(O.message||O))}finally{m(!1)}}}const X=O=>{const F=$e(at(+O,wt,_t));b(F),x<F+15&&C($e(F+15))},jt=O=>{const F=$e(at(+O,wt,_t));C(F),F<S+15&&b($e(F-15))},Fe=O=>M(at(+O,0,240)),Bt=()=>{const O=new Date(l);O.setDate(O.getDate()-1),u(O)},Xe=()=>{const O=new Date(l);O.setDate(O.getDate()+1),u(O)};return v.jsxs("div",{className:"hbz-container",children:[v.jsxs("div",{className:"hbz-toolbar",children:[v.jsxs("div",{className:"group",children:[v.jsx("button",{className:"hbz-btn",onClick:Bt,children:""}),v.jsx("input",{type:"date",className:"hbz-input",value:ea(l),onChange:O=>u(new Date(O.target.value))}),v.jsx("button",{className:"hbz-btn",onClick:Xe,children:""})]}),r&&v.jsx("div",{className:"group",style:{marginLeft:"auto",alignItems:"flex-start"},children:v.jsxs("div",{style:{display:"grid",gap:6},children:[v.jsx("div",{className:"hbz-label",children:"Mitarbeiter auswhlen (mehrere mglich)"}),v.jsx("div",{className:"hbz-pills",children:n.map(O=>{const F=s.includes(O.id);return v.jsx("button",{className:`hbz-pill ${F?"active":""}`,onClick:()=>a(O.id),children:O.name},O.id)})})]})})]}),y&&v.jsx("div",{className:"hbz-section error",children:y}),_&&v.jsx("div",{className:"hbz-section ok",children:_}),v.jsxs("div",{className:"hbz-card hbz-section",children:[v.jsxs("div",{style:{marginBottom:10},children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Projekt"}),v.jsxs("select",{className:"hbz-input",value:st||"",onChange:O=>zt(O.target.value||null),children:[v.jsx("option",{value:"",children:" ohne Projekt "}),Ae.map(O=>v.jsx("option",{value:O.id,children:O.name},O.id))]})]}),v.jsxs("div",{className:"hbz-grid hbz-grid-3",children:[v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Start"}),v.jsx("input",{type:"range",min:wt,max:_t,step:15,value:S,onChange:O=>X(O.target.value),style:{width:"100%"}}),v.jsx("div",{style:{marginTop:8,fontSize:22,fontWeight:700},children:cd(S)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Ende"}),v.jsx("input",{type:"range",min:wt,max:_t,step:15,value:x,onChange:O=>jt(O.target.value),style:{width:"100%"}}),v.jsx("div",{style:{marginTop:8,fontSize:22,fontWeight:700},children:cd(x)})]}),v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Pause"}),v.jsx("input",{type:"range",min:0,max:240,step:5,value:T,onChange:O=>Fe(O.target.value),style:{width:"100%"}}),v.jsxs("div",{style:{marginTop:8,fontSize:22,fontWeight:700},children:[T," min"]})]})]}),v.jsxs("div",{className:"hbz-kpi",style:{marginTop:14},children:[v.jsx("b",{children:"Arbeitszeit heute:"})," ",Math.floor(Mt/60),"h ",ul(Mt%60),"m"]}),v.jsxs("div",{style:{marginTop:14},children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Notiz"}),v.jsx("textarea",{className:"hbz-textarea",rows:3,value:z,onChange:O=>H(O.target.value),placeholder:"z. B. Ttigkeit, Besonderheiten"})]}),v.jsxs("div",{style:{marginTop:14,display:"flex",gap:8,alignItems:"center"},children:[v.jsx("button",{className:"hbz-btn primary",onClick:U,disabled:f||c||!(t!=null&&t.id),children:"Speichern"}),h&&v.jsx("button",{className:"hbz-btn",onClick:K,disabled:f,children:"Eintrag lschen"}),c&&v.jsx("span",{className:"hbz-label",children:"Lade "}),f&&v.jsx("span",{className:"hbz-label",children:"Speichere "})]})]})]})}const xt=t=>String(t).padStart(2,"0"),te=t=>`${Math.floor(t/60)}h ${xt(t%60)}m`,qw=t=>`${(t/60).toFixed(2).replace(".",",")} h`,os=t=>`${xt(Math.floor(t/60))}:${xt(t%60)}`,Kw=t=>new Date(t.getFullYear(),t.getMonth(),1),Jw=t=>new Date(t.getFullYear(),t.getMonth()+1,0),dd=t=>`${t.getFullYear()}-${xt(t.getMonth()+1)}-${xt(t.getDate())}`;function Gw(t){const e=new Date(t),r=(e.getDay()+6)%7;return e.setDate(e.getDate()-r),e.setHours(0,0,0,0),e}function hd(t){const e=new Date(t),r=Gw(e),n=new Date(r);return n.setDate(r.getDate()+6),{key:`${r.getFullYear()}-${xt(r.getMonth()+1)}-${xt(r.getDate())}`,label:`${r.toLocaleDateString()}  ${n.toLocaleDateString()}`}}function Qw(){const t=JSON.parse(localStorage.getItem("me")||"null"),e=((t==null?void 0:t.role)||"").toLowerCase(),r=e==="admin"||e==="teamleiter",[n,i]=k.useState(()=>{const E=new Date;return E.setDate(1),E.setHours(0,0,0,0),E}),s=Kw(n),o=Jw(n),a=()=>{const E=new Date(n);E.setMonth(E.getMonth()-1),i(E)},l=()=>{const E=new Date(n);E.setMonth(E.getMonth()+1),i(E)},[u,c]=k.useState([]);k.useEffect(()=>{(async()=>{const{data:E}=await Ee.from("employees").select("id,name,active").eq("active",!0).order("name");E&&c(E)})()},[]);const[d,f]=k.useState(()=>{try{return JSON.parse(localStorage.getItem("activeEmployeeIds")||"[]")}catch{return t!=null&&t.id?[t.id]:[]}});k.useEffect(()=>localStorage.setItem("activeEmployeeIds",JSON.stringify(d)),[d]);const m=E=>f(I=>{const $=new Set(I);return $.has(E)?$.delete(E):$.add(E),[...$]}),y=()=>f(u.map(E=>E.id)),w=()=>(t==null?void 0:t.id)&&f([t.id]),_=()=>f([]),[g,h]=k.useState([]),[p,S]=k.useState(!1),[b,x]=k.useState(""),[C,T]=k.useState([]);k.useEffect(()=>{(async()=>{const{data:E}=await Ee.from("projects").select("id,name,active").eq("active",!0).order("name");E&&T(E)})()},[]);async function M(){S(!0);let E=[];const{data:I}=await Ee.from("v_time_entries_expanded").select("id,work_date,start_min,end_min,break_min,note,project_id,project_name,employee_name,employee_id").gte("work_date",dd(s)).lte("work_date",dd(o)).order("work_date",{ascending:!0});if(I&&(E=I.map($=>({id:$.id,date:$.work_date,start_min:$.start_min,end_min:$.end_min,break_min:$.break_min,note:$.note||"",project:$.project_name||"",project_id:$.project_id||null,employee:$.employee_name||"",employee_id:$.employee_id}))),e==="mitarbeiter")E=E.filter($=>$.employee_id===(t==null?void 0:t.id));else if(d.length){const $=new Set(d);E=E.filter(We=>$.has(We.employee_id))}h(E),S(!1)}k.useEffect(()=>{M()},[n,JSON.stringify(d)]);const z=k.useMemo(()=>{if(!b.trim())return g;const E=b.trim().toLowerCase();return g.filter(I=>(I.project||"").toLowerCase().includes(E)||(I.employee||"").toLowerCase().includes(E)||(I.note||"").toLowerCase().includes(E))},[g,b]),H=k.useMemo(()=>z.map(E=>{const I=Math.max(0,E.end_min-E.start_min-(E.break_min||0)),$=Math.max(0,I-9*60);return{...E,duration_min:I,day_ot_min:$}}),[z]),Ae=k.useMemo(()=>{const E=new Map;for(const I of H){const{key:$,label:We}=hd(I.date);E.has($)||E.set($,{key:$,label:We,total:0,dayOT:0});const Z=E.get($);Z.total+=I.duration_min,Z.dayOT+=I.day_ot_min}for(const I of E.values())I.weekOT=Math.max(0,I.total-39*60);return[...E.values()].sort((I,$)=>I.key.localeCompare($.key))},[H]),je=k.useMemo(()=>H.reduce((E,I)=>E+I.duration_min,0),[H]),st=k.useMemo(()=>H.reduce((E,I)=>E+I.day_ot_min,0),[H]),zt=k.useMemo(()=>Ae.reduce((E,I)=>E+I.weekOT,0),[Ae]),Mt=k.useMemo(()=>{const E=new Map;for(const I of H){const $=I.project||" ohne Projekt ";E.set($,(E.get($)||0)+I.duration_min)}return[...E.entries()].map(([I,$])=>({project:I,minutes:$})).sort((I,$)=>I.project.localeCompare($.project))},[H]),Be=k.useMemo(()=>{const E=Ae.map(Z=>Z.key),I=Object.fromEntries(Ae.map(Z=>[Z.key,Z.label])),$=new Map;for(const Z of H){const me=Z.project||" ohne Projekt ",Oe=hd(Z.date).key;$.has(me)||$.set(me,{}),$.get(me)[Oe]=($.get(me)[Oe]||0)+Z.duration_min,$.get(me)._total=($.get(me)._total||0)+Z.duration_min}return{rows:[...$.entries()].map(([Z,me])=>{const Oe={project:Z,total:me._total||0,weeks:{}};for(const Ii of E)Oe.weeks[Ii]=me[Ii]||0;return Oe}).sort((Z,me)=>Z.project.localeCompare(me.project)),weekOrder:E,weekLabels:I}},[H,Ae]),[P,D]=k.useState([]);k.useEffect(()=>{(async()=>{const{data:E}=await Ee.from("projects").select("id,name,active").eq("active",!0).order("name");E&&D(E)})()},[]);const[U,K]=k.useState(null),[X,jt]=k.useState(7*60),[Fe,Bt]=k.useState(16*60+30),[Xe,O]=k.useState(30),[F,W]=k.useState(""),[Ce,Ur]=k.useState(null),[Ct,gr]=k.useState(!1),[Pi,Ri]=k.useState("");function Fp(E){K(E.id),jt(E.start_min),Bt(E.end_min),O(E.break_min||0),W(E.note||""),Ur(E.project_id||"")}function Wp(){K(null),Ri("")}async function Vp(){if(!(!r||!U)){if(Fe<=X){Ri("Ende muss nach Start liegen.");return}gr(!0),Ri("");try{const E={start_min:X,end_min:Fe,break_min:Xe,note:F,project_id:Ce||null},{error:I}=await Ee.from("time_entries").update(E).eq("id",U);if(I)throw I;h($=>$.map(We=>{var Z;return We.id===U?{...We,...E,project:((Z=P.find(me=>me.id===Ce))==null?void 0:Z.name)||We.project}:We})),K(null)}catch(E){Ri("Speichern fehlgeschlagen: "+(E.message||E))}finally{gr(!1)}}}async function Hp(E){r&&(await Ee.from("time_entries").delete().eq("id",E),h(I=>I.filter($=>$.id!==E)))}function qp(){const E=["Datum","Mitarbeiter","Projekt","Start","Ende","Pause","Dauer","Tages-S (>9h)","Notiz"],I=H.map(Oe=>[Oe.date,Oe.employee,Oe.project,os(Oe.start_min),os(Oe.end_min),`${Oe.break_min||0} min`,te(Oe.duration_min),te(Oe.day_ot_min),(Oe.note||"").replace(/\r?\n/g," ")].map(Ii=>`"${String(Ii).replace(/"/g,'""')}"`).join(";")),$=[E.join(";"),...I,"",`Gesamt; ; ; ; ; ;${te(je)};${te(st)};`].join(`
`),We=new Blob([$],{type:"text/csv;charset=utf-8"}),Z=URL.createObjectURL(We),me=document.createElement("a");me.href=Z,me.download=`Monatsbersicht_${n.getFullYear()}-${xt(n.getMonth()+1)}.csv`,me.click(),URL.revokeObjectURL(Z)}function Kp(){window.print()}const wu=(E,I)=>v.jsx("input",{type:"time",value:`${xt(Math.floor(E/60))}:${xt(E%60)}`,onChange:$=>{const[We,Z]=$.target.value.split(":").map(Number);I(We*60+Z)},className:"hbz-input",style:{maxWidth:110}});return v.jsxs("div",{className:"hbz-container",children:[v.jsxs("div",{className:"hbz-toolbar",children:[v.jsxs("div",{className:"group",children:[v.jsx("button",{className:"hbz-btn",onClick:a,children:""}),v.jsx("div",{className:"hbz-title",children:n.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),v.jsx("button",{className:"hbz-btn",onClick:l,children:""})]}),v.jsxs("div",{className:"group",style:{marginLeft:"auto"},children:[v.jsx("input",{className:"hbz-input",placeholder:"Filter: Projekt/Mitarbeiter/Notiz",value:b,onChange:E=>x(E.target.value)}),v.jsx("button",{className:"hbz-btn",onClick:qp,children:"CSV"}),v.jsx("button",{className:"hbz-btn",onClick:Kp,children:"PDF"})]})]}),v.jsxs("div",{className:"hbz-card",children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:6},children:"Mitarbeiter filtern (mehrere mglich)"}),v.jsx("div",{className:"hbz-pills",style:{marginBottom:8},children:u.map(E=>{const I=d.includes(E.id);return v.jsx("button",{className:`hbz-pill ${I?"active":""}`,onClick:()=>m(E.id),children:E.name},E.id)})}),v.jsxs("div",{className:"group",children:[v.jsx("button",{className:"hbz-btn",onClick:y,children:"Alle"}),v.jsx("button",{className:"hbz-btn",onClick:w,children:"Nur ich"}),v.jsx("button",{className:"hbz-btn",onClick:_,children:"Leeren"})]})]}),v.jsx("div",{className:"hbz-card hbz-section",children:v.jsxs("div",{className:"hbz-grid",style:{gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))"},children:[v.jsxs("div",{className:"hbz-kpi",children:[v.jsx("b",{children:"Gesamtstunden"}),v.jsxs("div",{children:[te(je)," ",v.jsxs("span",{className:"hbz-label",children:["(",qw(je),")"]})]})]}),v.jsxs("div",{className:"hbz-kpi",children:[v.jsx("b",{children:"Tages-berstunden (>9h)"}),v.jsx("div",{children:te(st)})]}),v.jsxs("div",{className:"hbz-kpi",children:[v.jsx("b",{children:"Wochen-berstunden (>39h)"}),v.jsx("div",{children:te(zt)})]})]})}),v.jsx("div",{className:"hbz-card hbz-section print-card",children:v.jsxs("table",{className:"nice print-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Datum"}),v.jsx("th",{children:"Mitarbeiter"}),v.jsx("th",{children:"Projekt"}),v.jsx("th",{children:"Start"}),v.jsx("th",{children:"Ende"}),v.jsx("th",{children:"Pause"}),v.jsx("th",{children:"Dauer"}),v.jsx("th",{children:"Tages-S"}),v.jsx("th",{children:"Notiz"}),r&&v.jsx("th",{className:"no-print",children:"Aktion"})]})}),v.jsxs("tbody",{children:[!p&&H.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:r?10:9,className:"hbz-label",children:"Keine Eintrge."})}),H.map(E=>v.jsxs(pl.Fragment,{children:[v.jsxs("tr",{children:[v.jsx("td",{children:new Date(E.date).toLocaleDateString()}),v.jsx("td",{children:E.employee}),v.jsx("td",{children:E.project}),v.jsx("td",{children:os(E.start_min)}),v.jsx("td",{children:os(E.end_min)}),v.jsxs("td",{children:[E.break_min||0," min"]}),v.jsx("td",{children:te(E.duration_min)}),v.jsx("td",{children:te(E.day_ot_min)}),v.jsx("td",{className:"note-cell",children:E.note}),r&&v.jsxs("td",{className:"no-print",children:[v.jsx("button",{className:"hbz-btn",onClick:()=>Fp(E),children:"Bearbeiten"}),v.jsx("button",{className:"hbz-btn",onClick:()=>Hp(E.id),style:{marginLeft:6},children:"Lschen"})]})]}),r&&U===E.id&&v.jsx("tr",{className:"no-print",children:v.jsxs("td",{colSpan:r?10:9,style:{background:"#fffaf5"},children:[v.jsxs("div",{className:"hbz-grid",style:{gridTemplateColumns:"repeat(auto-fit,minmax(140px,1fr))",gap:10},children:[v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",children:"Projekt"}),v.jsxs("select",{className:"hbz-input",value:Ce||"",onChange:I=>Ur(I.target.value||""),children:[v.jsx("option",{value:"",children:" ohne "}),P.map(I=>v.jsx("option",{value:I.id,children:I.name},I.id))]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",children:"Start"}),wu(X,jt)]}),v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",children:"Ende"}),wu(Fe,Bt)]}),v.jsxs("div",{children:[v.jsx("div",{className:"hbz-label",children:"Pause (min)"}),v.jsx("input",{type:"number",className:"hbz-input",value:Xe,onChange:I=>O(Math.max(0,parseInt(I.target.value||0,10)))})]}),v.jsxs("div",{style:{gridColumn:"1/-1"},children:[v.jsx("div",{className:"hbz-label",children:"Notiz"}),v.jsx("textarea",{className:"hbz-textarea",rows:2,value:F,onChange:I=>W(I.target.value)})]})]}),Pi&&v.jsx("div",{className:"hbz-section error",style:{marginTop:8},children:Pi}),v.jsxs("div",{style:{marginTop:10,display:"flex",gap:8},children:[v.jsx("button",{className:"hbz-btn primary",onClick:Vp,disabled:Ct,children:Ct?"Speichere":"Speichern"}),v.jsx("button",{className:"hbz-btn",onClick:Wp,children:"Abbrechen"})]})]})})]},E.id))]}),v.jsx("tfoot",{children:v.jsxs("tr",{children:[v.jsx("td",{colSpan:6,className:"hbz-label",children:"Gesamt"}),v.jsx("td",{children:te(je)}),v.jsx("td",{children:te(st)}),v.jsx("td",{}),r&&v.jsx("td",{className:"no-print"})]})})]})}),v.jsxs("div",{className:"hbz-card hbz-section print-card",children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:8},children:"Wochenbersicht (MoSo)"}),v.jsxs("table",{className:"nice print-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Woche"}),v.jsx("th",{children:"Gesamt"}),v.jsx("th",{children:"Tages-S-Summe"}),v.jsx("th",{children:"Wochen-S (>39h)"})]})}),v.jsx("tbody",{children:Ae.map(E=>v.jsxs("tr",{children:[v.jsx("td",{children:E.label}),v.jsx("td",{children:te(E.total)}),v.jsx("td",{children:te(E.dayOT)}),v.jsx("td",{children:te(E.weekOT)})]},E.key))}),v.jsx("tfoot",{children:v.jsxs("tr",{children:[v.jsx("td",{className:"hbz-label",children:"Summe"}),v.jsx("td",{children:te(je)}),v.jsx("td",{children:te(st)}),v.jsx("td",{children:te(zt)})]})})]})]}),v.jsxs("div",{className:"hbz-card hbz-section print-card",children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:8},children:"Projektbersicht  Monat gesamt"}),v.jsxs("table",{className:"nice print-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Projekt"}),v.jsx("th",{children:"Stunden"})]})}),v.jsx("tbody",{children:Mt.map(E=>v.jsxs("tr",{children:[v.jsx("td",{children:E.project}),v.jsx("td",{children:te(E.minutes)})]},E.project))}),v.jsx("tfoot",{children:v.jsxs("tr",{children:[v.jsx("td",{className:"hbz-label",children:"Summe"}),v.jsx("td",{children:te(je)})]})})]})]}),v.jsxs("div",{className:"hbz-card hbz-section print-card",children:[v.jsx("div",{className:"hbz-label",style:{marginBottom:8},children:"Projekt-Wochenbersicht (MoSo)"}),v.jsxs("table",{className:"nice print-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Projekt"}),Be.weekOrder.map(E=>v.jsx("th",{children:Be.weekLabels[E]},E)),v.jsx("th",{children:"Gesamt"})]})}),v.jsx("tbody",{children:Be.rows.map(E=>v.jsxs("tr",{children:[v.jsx("td",{children:E.project}),Be.weekOrder.map(I=>v.jsx("td",{children:te(E.weeks[I])},I)),v.jsx("td",{children:te(E.total)})]},E.project))}),v.jsx("tfoot",{children:v.jsxs("tr",{children:[v.jsx("td",{className:"hbz-label",children:"Summe"}),Be.weekOrder.map(E=>v.jsx("td",{children:te(Be.rows.reduce((I,$)=>I+($.weeks[E]||0),0))},E)),v.jsx("td",{children:te(je)})]})})]})]})]})}const yr={card:{maxWidth:520,margin:"80px auto",background:"#fff",borderRadius:14,boxShadow:"0 8px 30px rgba(0,0,0,.08)",padding:22,border:"1px solid rgba(0,0,0,.06)"},label:{fontWeight:700,marginBottom:6,display:"block",color:"#4a3a2f"},input:{width:"100%",border:"1px solid #d1c6bd",borderRadius:10,padding:"10px 12px",outline:"none",fontSize:15,background:"#fffdfb"},btn:{background:"#8B5E3C",color:"#fff",border:"none",borderRadius:10,padding:"10px 16px",cursor:"pointer",fontWeight:700,minWidth:110},error:{background:"#ffeaea",color:"#7c1f1f",border:"1px solid #f1c1c1",borderRadius:8,padding:"10px 12px",marginTop:10,fontSize:14}};function Yw(){const t=po(),[e,r]=k.useState(""),[n,i]=k.useState(""),[s,o]=k.useState(!1),[a,l]=k.useState(""),u=async c=>{c.preventDefault(),l("");const d=(e||"").trim().toUpperCase(),f=(n||"").trim();if(!d)return l("Bitte Code eingeben (z. B. ZS, MH )");if(!f)return l("Bitte PIN eingeben.");o(!0);try{const{data:m,error:y}=await Ee.rpc("login_lookup",{p_code:d,p_pin:f});if(y){console.error("[Login] Supabase-Error:",y);const g=((y==null?void 0:y.message)||(y==null?void 0:y.hint)||(y==null?void 0:y.details)||"").toString().trim()||"Serverfehler beim Login.";l(g);return}const w=Array.isArray(m)?m[0]:null;if(!w)return l("PIN oder Code falsch.");if(w.aktiv===!1)return l("Dieser Benutzer ist deaktiviert.");const _=(w.role||"mitarbeiter").toLowerCase();localStorage.setItem("isAuthed","1"),localStorage.setItem("meId",String(w.id??"")),localStorage.setItem("meName",w.name||""),localStorage.setItem("meCode",w.code||d),localStorage.setItem("meRole",_),typeof w.notfall_admin=="boolean"&&localStorage.setItem("meNotfallAdmin",w.notfall_admin?"1":"0"),t("/zeiterfassung",{replace:!0})}finally{o(!1)}};return v.jsx("div",{style:yr.card,children:v.jsxs("form",{onSubmit:u,children:[v.jsxs("div",{style:{marginBottom:14},children:[v.jsx("label",{style:yr.label,children:"Code"}),v.jsx("input",{style:yr.input,placeholder:"z. B. ZS, MH, AS ",value:e,onChange:c=>r(c.target.value),autoFocus:!0})]}),v.jsxs("div",{style:{marginBottom:14},children:[v.jsx("label",{style:yr.label,children:"PIN"}),v.jsx("input",{style:yr.input,placeholder:"",value:n,onChange:c=>i(c.target.value),type:"password",inputMode:"numeric",autoComplete:"current-password"})]}),a&&v.jsx("div",{style:yr.error,children:a}),v.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:v.jsx("button",{type:"submit",style:yr.btn,disabled:s,children:s?"Anmelden ":"Login"})})]})})}const Xw=k.createContext({user:null,role:"mitarbeiter",id:null});function Zw(){const[t,e]=k.useState(null);k.useEffect(()=>{if(!(localStorage.getItem("isAuthed")==="1"))return;const i={id:localStorage.getItem("meId"),name:localStorage.getItem("meName"),code:localStorage.getItem("meCode"),role:(localStorage.getItem("meRole")||"mitarbeiter").toLowerCase(),notfallAdmin:localStorage.getItem("meNotfallAdmin")==="1"};e(i)},[]);const r={user:t,role:(t==null?void 0:t.role)??"mitarbeiter",id:(t==null?void 0:t.id)??null};return t?v.jsx(Xw.Provider,{value:r,children:v.jsxs(yy,{basename:"/Zeiterfassung",children:[v.jsx(Ey,{}),v.jsxs(dy,{children:[v.jsx(Bn,{path:"/",element:v.jsx(Ac,{to:"/zeiterfassung",replace:!0})}),v.jsx(Bn,{path:"/zeiterfassung",element:v.jsx(Hw,{})}),v.jsx(Bn,{path:"/monatsuebersicht",element:v.jsx(Qw,{})}),v.jsx(Bn,{path:"*",element:v.jsx(Ac,{to:"/zeiterfassung",replace:!0})})]})]})}):v.jsx(Yw,{onLoggedIn:e})}ta.createRoot(document.getElementById("root")).render(v.jsx(pl.StrictMode,{children:v.jsx(wy,{basename:"/",children:v.jsx(Zw,{})})}));
